{"version":3,"sources":["ZJH_Help.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\SceneScript\\ZJH","sourcesContent":["\r\nimport GMManager from '../../Modules/GMManager';\r\nimport UDManager from '../../Modules/UDManager';\r\n\r\n/**\r\n * 动作表态 枚举\r\n * @export\r\n * @enum {number} 不要= -1 等待表态 = 0  已表态 = 1\r\n */\r\nexport enum ZJH_BT_State {\r\n    //不要\r\n    ACT_STATE_DROP = -1,\r\n    //等待表态\r\n    ACT_STATE_WAIT = 0,\r\n    //已表态\r\n    ACT_STATE_BT = 1,\r\n}\r\n/**\r\n *金花游戏状态定义\r\n * @export\r\n * @enum {number}\r\n */\r\nexport enum ZJH_Game_State {\r\n    /**\r\n     * 空闲\r\n     */\r\n    STATE_TABLE_IDLE = 0,\r\n    /**\r\n     * 准备\r\n     */\r\n    STATE_TABLE_ZJH_READY = 1,\r\n    /**\r\n     * 下底注\r\n     */\r\n    STATE_TABLE_ZJH_BASESCORE = 2,\r\n    /**\r\n     * 发牌\r\n     */\r\n    STATE_TABLE_ZJH_FAPAI = 3,\r\n    /**\r\n     * 下注表态\r\n     */\r\n    STATE_TABLE_ZJH_BET = 4,\r\n    /**\r\n     * 比牌\r\n     */\r\n    STATE_TABLE_ZJH_COMPARE = 5,\r\n    /**\r\n     * 结算\r\n     */\r\n    STATE_TABLE_ZJH_OVER = 6\r\n}\r\n\r\n/**\r\n * 定义表态状态值\r\n * \r\n * @export\r\n * @enum {number} \r\n */\r\nexport enum ZJH_Act_State {\r\n    /**\r\n     * 弃牌\r\n     */\r\n    BT_VAL_DROP = 0,\r\n    /**\r\n     * 看牌\r\n     */\r\n    BT_VAL_LOOCK = 1,\r\n    /**\r\n     * 比牌\r\n     */\r\n    BT_VAL_COMPARAE = 2,\r\n    /**\r\n     * 全下\r\n     */\r\n    BT_VAL_BETALL = 3,\r\n    /**\r\n     * 跟注\r\n     */\r\n    BT_VAL_BETSAME = 4,\r\n    /**\r\n     * 加注\r\n     */\r\n    BT_VAL_BETADD = 5\r\n}\r\n\r\n/**\r\n * 对座位列表进行排序,让自己的座位始终在最下方\r\n * \r\n * @param {any} seatList \r\n * @returns \r\n */\r\nexport function sortSeatList(seats) {\r\n    if (!GMManager.getInstance().zjhGameData) return null;\r\n    let mySeat: SeatVo = getSeatById(UDManager.getInstance().mineData.accountId);\r\n    if (mySeat) {\r\n        let tempList: SeatVo[] = [];\r\n        for (var i = 0; i < seats.length; i++) {\r\n            let seatInfo: SeatVo = seats[i];\r\n            if (seatInfo) {\r\n                let index = 0;\r\n                if (mySeat.seatIndex > seatInfo.seatIndex) {\r\n                    index = seats.length - (mySeat.seatIndex - seatInfo.seatIndex);\r\n                } else {\r\n                    index = Math.abs(mySeat.seatIndex - seatInfo.seatIndex);\r\n                }\r\n                tempList[index] = seatInfo;\r\n            }\r\n        }\r\n        return tempList;\r\n    }\r\n    return null;\r\n};\r\n\r\n/**\r\n * 根据玩家accountId获取座位号\r\n * \r\n * @param {string} accountId \r\n * @returns {SeatVo} \r\n */\r\nexport function getSeatById(accountId: string): SeatVo {\r\n    if (!GMManager.getInstance().zjhGameData || !GMManager.getInstance().zjhGameData.seats) return null;\r\n    for (var i = 0; i < GMManager.getInstance().zjhGameData.seats.length; i++) {\r\n        let seatInfo: SeatVo = GMManager.getInstance().zjhGameData.seats[i];\r\n        if (seatInfo.accountId === accountId) {\r\n            return seatInfo;\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\n/**\r\n * 根据玩家SeatId获取座位号\r\n * \r\n * @param {string} seatById \r\n * @returns {SeatVo} \r\n */\r\nexport function getSeatBySeatId(seatById: Number): SeatVo {\r\n    if (!GMManager.getInstance().zjhGameData || !GMManager.getInstance().zjhGameData.seats) return null;\r\n    for (var i = 0; i < GMManager.getInstance().zjhGameData.seats.length; i++) {\r\n        let seatInfo: SeatVo = GMManager.getInstance().zjhGameData.seats[i];\r\n        if (seatInfo.seatIndex === seatById) {\r\n            return seatInfo;\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\n\r\n/**\r\n * 根据座位id获取位置索引 \r\n * \r\n * @export\r\n * @param {number} seatId   seatId位-1的时候，根据accountId返回\r\n * @param {string} [accountId=''] \r\n * @returns \r\n */\r\nexport function getIndexBySeatId(seatId: number, accountId: string = ''): number {\r\n    if (GMManager.getInstance().zjhGameData && GMManager.getInstance().zjhGameData.seats) {\r\n        let seats = GMManager.getInstance().zjhGameData.seats;\r\n        for (var i = 0; i < seats.length; i++) {\r\n            let seat: SeatVo = seats[i];\r\n            if (seatId === -1) {\r\n                if (seat.accountId !== '0' && seat.accountId === accountId) {\r\n                    return i;\r\n                }\r\n            } else {\r\n                if (seat.seatIndex === seatId) {\r\n                    return i;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n\r\nexport function getNowPlayer(): SeatVo[] {\r\n    let seatList: SeatVo[] = [];\r\n    if (GMManager.getInstance().zjhGameData && GMManager.getInstance().zjhGameData.seats) {\r\n        let seats = GMManager.getInstance().zjhGameData.seats;\r\n        for (var i = 0; i < seats.length; i++) {\r\n            let seat: SeatVo = seats[i];\r\n            if (seat.accountId !== '' && seat.accountId !== '0'\r\n                && seat.bGamed === 1 && seat.btState !== ZJH_BT_State.ACT_STATE_DROP) {\r\n                seatList.push(seat);\r\n            }\r\n        }\r\n    }\r\n    return seatList;\r\n}\r\n\r\n/**\r\n * 根据数字获取每个区间的 数量\r\n * @export\r\n * @param {any} num \r\n * @returns \r\n */\r\nexport function getEveryIntervalNum(num) {\r\n    num = Number(num);\r\n    let level = [100, 50, 20, 10, 5, 2, 1];\r\n    let ChipList = [0, 0, 0, 0, 0, 0, 0];\r\n    for (let i = 0; i < 7; i++) {\r\n        ChipList[i] = Math.floor(num / level[i]);\r\n        if (num % level[i] === 0) break;\r\n        num = num % level[i];\r\n    }\r\n    return ChipList;\r\n}\r\n\r\n/**\r\n * 根据数据获取指定筹码区域的个数,其他区域为0个\r\n * @export\r\n * @param {number} num \r\n * @param {number} speNum \r\n * @returns \r\n */\r\nexport function getOneIntervalNum(num: number, speNum: number) {\r\n    num = Number(num);\r\n    let ChipList = [];\r\n    let b5 = speNum === 100 ? Math.floor(num / 100) : 0;           //100\r\n    ChipList.push(b5);\r\n    let b4 = speNum === 50 ? Math.floor(num / 50) : 0;      //50\r\n    ChipList.push(b4);\r\n    let b2 = speNum === 20 ? Math.floor(num / 20) : 0;     //20\r\n    ChipList.push(b2);\r\n    let b1 = speNum === 10 ? Math.floor(num / 10) : 0;     //10\r\n    ChipList.push(b1);\r\n    let n4 = speNum === 5 ? Math.floor(num / 5) : 0;         //5\r\n    ChipList.push(n4);\r\n    let n2 = speNum === 2 ? Math.floor(num / 2) : 0;         //2\r\n    ChipList.push(n2);\r\n    let n1 = speNum === 1 ? Math.floor(num / 1) : 0;          //1\r\n    ChipList.push(n1);\r\n    return ChipList;\r\n}\r\n\r\n"]}