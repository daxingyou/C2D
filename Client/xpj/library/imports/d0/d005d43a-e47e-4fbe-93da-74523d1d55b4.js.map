{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\SceneScript\\ZJH/assets\\Script\\SceneScript\\ZJH\\ZJHCanvas.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\SceneScript\\ZJH","sourcesContent":["\r\nconst { ccclass, property } = cc._decorator;\r\nimport * as dd from './../../Modules/ModuleManager';\r\nimport ZJH_Player from './ZJH_Player';\r\nimport ZJH_Table from './ZJH_Table';\r\nimport Game_DealScript from './Game_DealScript';\r\nimport * as ZJH_Help from './ZJH_Help';\r\n@ccclass\r\nexport default class ZJHCanvas extends cc.Component {\r\n    /**\r\n     * 动作节点\r\n     * \r\n     * @type {cc.Node}\r\n     * @memberof ZJHCanvas\r\n     */\r\n    @property(cc.Node)\r\n    node_action: cc.Node = null;\r\n    /**\r\n     * 玩家界面节点\r\n     * \r\n     * @type {cc.Node}\r\n     * @memberof ZJHCanvas\r\n     */\r\n    @property(cc.Node)\r\n    node_player: cc.Node = null;\r\n    /**\r\n     * 桌子界面节点\r\n     * \r\n     * @type {cc.Node}\r\n     * @memberof ZJHCanvas\r\n     */\r\n    @property(cc.Node)\r\n    node_table: cc.Node = null;\r\n    /**\r\n     * 游戏场景的遮罩层\r\n     * @type {cc.Node}\r\n     * @memberof ZJHCanvas\r\n     */\r\n    @property(cc.Node)\r\n    node_mask: cc.Node = null;\r\n    /**\r\n     *牌节点\r\n     * @type {cc.Prefab}\r\n     * @memberof ZJHCanvas\r\n     */\r\n    @property(cc.Prefab)\r\n    card_prefab: cc.Prefab = null;\r\n    /**\r\n     * 翻牌动画\r\n     * @type {cc.Prefab}\r\n     * @memberof ZJHCanvas\r\n     */\r\n    @property(cc.Prefab)\r\n    fanpai_prefab: cc.Prefab = null;\r\n    /**\r\n     * 比牌预设\r\n     * @type {cc.Prefab}\r\n     * @memberof ZJHCanvas\r\n     */\r\n    @property(cc.Prefab)\r\n    bpPrefab: cc.Prefab = null;\r\n    /**\r\n     * 比牌失败预设\r\n     * @type {cc.Prefab}\r\n     * @memberof ZJHCanvas\r\n     */\r\n    @property(cc.Prefab)\r\n    bpsbPrefab: cc.Prefab = null;\r\n    /**\r\n     * 牌抖动的预设\r\n     * @type {cc.Prefab}\r\n     * @memberof ZJHCanvas\r\n     */\r\n    @property(cc.Prefab)\r\n    spPrefab: cc.Prefab = null;\r\n    /**\r\n     * 倒计时的预设 \r\n     * @type {cc.Prefab[]} 0=自己 1=别人\r\n     * @memberof ZJHCanvas\r\n     */\r\n    @property([cc.Prefab])\r\n    timeDown_prefab_list: cc.Prefab[] = [];\r\n    /**\r\n     * 动作脚本\r\n     * @memberof ZJHCanvas\r\n     */\r\n    _dealScript: Game_DealScript = null;\r\n    /**\r\n     * 玩家脚本\r\n     * @memberof ZJHCanvas\r\n     */\r\n    _playerScript: ZJH_Player = null;\r\n\r\n    /**\r\n     * 桌子脚本\r\n     * @memberof ZJHCanvas\r\n     */\r\n    _tableScript: ZJH_Table = null;\r\n\r\n    /**\r\n     * 是否结算\r\n     * @type {boolean}\r\n     * @memberof ZJHCanvas\r\n     */\r\n    _isShowResult: boolean = false;\r\n    /**\r\n     * 是否发牌\r\n     * @type {boolean}\r\n     * @memberof ZJHCanvas\r\n     */\r\n    _isFPAction: boolean = false;\r\n\r\n    /**\r\n     * 游戏状态推送消息函数\r\n     * \r\n     * @memberof MJCanvas\r\n     */\r\n    ZJH_GamePush = (event: cc.Event.EventCustom) => {\r\n        let data = event.detail;\r\n        dd.gm_manager.zjhGameData = data as GameData;\r\n        this.showZJHInfo();\r\n    };\r\n\r\n    /**\r\n     * 推送消息(座位数据变化) 回调函数\r\n     * \r\n     * @memberof MJCanvas\r\n     */\r\n    ZJH_SeatPush = (event: cc.Event.EventCustom) => {\r\n        let data = event.detail;\r\n        dd.gm_manager.zjhGameData = data as GameData;\r\n        this.showZJHInfo();\r\n    };\r\n    /**\r\n     * 推送消息(下注数据变化) 回调函数\r\n     * \r\n     * @memberof MJCanvas\r\n     */\r\n    ZJH_BetPush = (event: cc.Event.EventCustom) => {\r\n        let data = event.detail;\r\n        cc.log('下注push');\r\n        cc.log(data);\r\n        dd.gm_manager.zjhGameData = data.tableVo as GameData;\r\n        this.showZJHInfo();\r\n\r\n        let seatInfo = ZJH_Help.getSeatBySeatId(data.btIndex);\r\n        if (seatInfo && seatInfo.btState !== ZJH_Help.ZJH_BT_State.ACT_STATE_WAIT && seatInfo.bGamed === 1) {\r\n            let index = ZJH_Help.getIndexBySeatId(seatInfo.seatIndex);\r\n            switch (seatInfo.btVal) {\r\n                case ZJH_Help.ZJH_Act_State.BT_VAL_DROP://弃牌\r\n                    dd.mp_manager.playZJH('state_qp')\r\n                    this.showQPAction(seatInfo.seatIndex);\r\n                    break;\r\n                case ZJH_Help.ZJH_Act_State.BT_VAL_LOOCK://看牌\r\n                    dd.mp_manager.playZJH('state_kp');\r\n                    break;\r\n                case ZJH_Help.ZJH_Act_State.BT_VAL_COMPARAE://比牌\r\n\r\n                    break;\r\n                case ZJH_Help.ZJH_Act_State.BT_VAL_BETALL://全下\r\n                    dd.mp_manager.playZJH('state_allin')\r\n                    this._tableScript.playGoldAction(this._playerScript.getPosByIndex(index), data.betMoney);\r\n                    break;\r\n                case ZJH_Help.ZJH_Act_State.BT_VAL_BETSAME://跟注\r\n                    dd.mp_manager.playZJH('state_gz')\r\n                    this._tableScript.playGoldAction(this._playerScript.getPosByIndex(index), data.betMoney);\r\n                    break;\r\n                case ZJH_Help.ZJH_Act_State.BT_VAL_BETADD://加注\r\n                    dd.mp_manager.playZJH('state_jz')\r\n                    this._tableScript.playGoldAction(this._playerScript.getPosByIndex(index), data.betMoney);\r\n                    break;\r\n                default:\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 推送消息(玩家被踢出座位) 回调函数\r\n     * \r\n     * @memberof MJCanvas\r\n     */\r\n    ZJH_KickPush = (event: cc.Event.EventCustom) => {\r\n        let data = event.detail;\r\n        let str = '';\r\n        if (data === 1) {\r\n            str = '您的金币不足,被踢出房间！'\r\n        } else if (data === 3) {//长时间为准备\r\n            str = '您长时间未准备，已被踢出房间！'\r\n        }\r\n        if (dd.ui_manager.showLoading()) {\r\n            dd.ud_manager.mineData.tableId = 0;\r\n            cc.director.loadScene('HomeScene', () => {\r\n                dd.ui_manager.showTip(str);\r\n                dd.gm_manager.destroySelf();\r\n            });\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 推送消息(玩家看牌数据)\r\n     * \r\n     * @memberof MJCanvas\r\n     */\r\n    ZJH_LookPush = (event: cc.Event.EventCustom) => {\r\n        let data = event.detail;\r\n        cc.log('玩家看牌push');\r\n        cc.log(data);\r\n        let seatInfo = ZJH_Help.getSeatBySeatId(data.btIndex);\r\n        dd.mp_manager.playZJH('state_kp');\r\n        //如果是自己，显示翻牌\r\n        if (seatInfo.accountId === dd.ud_manager.mineData.accountId) {\r\n            this._playerScript.showFPActionBySeatId(data.btIndex);\r\n        }\r\n        dd.gm_manager.zjhGameData = data.tableVo as GameData;\r\n        this.showZJHInfo();\r\n    };\r\n    /**\r\n     * //推送消息(玩家房卡数据变化)\r\n     * @memberof ZJHCanvas\r\n     */\r\n    WalletPush = (event: cc.Event.EventCustom) => {\r\n        let data = event.detail;\r\n        let wallet = data as Wallet;\r\n        let zjhGameData = dd.gm_manager.zjhGameData;\r\n        if (zjhGameData) {\r\n            for (var i = 0; i < zjhGameData.seats.length; i++) {\r\n                if (dd.ud_manager.mineData.accountId === zjhGameData.seats[i].accountId) {\r\n                    dd.gm_manager.zjhGameData.seats[i].money = wallet.roomCard;\r\n                    break;\r\n                }\r\n            }\r\n            this._playerScript.showPlayerInfo();\r\n        }\r\n    };\r\n    /**\r\n     * //推送消息(准备)\r\n     * @memberof ZJHCanvas\r\n     */\r\n    readyPush = (event: cc.Event.EventCustom) => {\r\n        let data = event.detail;\r\n        dd.gm_manager.zjhGameData = data as GameData;\r\n        this.showZJHInfo();\r\n    };\r\n    /**\r\n      * 绑定游戏push\r\n      * \r\n      * @memberof MJCanvas\r\n      */\r\n    bindOnPush(): void {\r\n        //推送消息(游戏状态变化)\r\n        cc.systemEvent.on('GamePush', this.ZJH_GamePush);\r\n        //推送消息(座位数据变化)\r\n        cc.systemEvent.on('SeatPush', this.ZJH_SeatPush);\r\n        //推送消息(下注数据变化)\r\n        cc.systemEvent.on('BetPush', this.ZJH_BetPush);\r\n        //推送消息(玩家被踢出座位)\r\n        cc.systemEvent.on('KickPush', this.ZJH_KickPush);\r\n        //推送消息(玩家看牌数据)\r\n        cc.systemEvent.on('LookPush', this.ZJH_LookPush);\r\n        //推送消息(玩家房卡数据变化)\r\n        cc.systemEvent.on('WalletPush', this.WalletPush);\r\n        //准备\r\n        cc.systemEvent.on('Ready', this.readyPush);\r\n    }\r\n\r\n    /**\r\n     * 解除绑定游戏push\r\n     * \r\n     * @memberof MJCanvas\r\n     */\r\n    bindOffPush() {\r\n        //推送消息(游戏状态变化)\r\n        cc.systemEvent.off('GamePush', this.ZJH_GamePush);\r\n        //推送消息(座位数据变化)\r\n        cc.systemEvent.off('SeatPush', this.ZJH_SeatPush);\r\n        //推送消息(下注数据变化)\r\n        cc.systemEvent.off('BetPush', this.ZJH_BetPush);\r\n        //推送消息(玩家被踢出座位)\r\n        cc.systemEvent.off('KickPush', this.ZJH_KickPush);\r\n        //推送消息(玩家看牌数据)\r\n        cc.systemEvent.off('LookPush', this.ZJH_LookPush);\r\n        //推送消息(玩家房卡数据变化)\r\n        cc.systemEvent.off('WalletPush', this.WalletPush);\r\n        //准备\r\n        cc.systemEvent.off('Ready', this.readyPush);\r\n    }\r\n\r\n    onLoad() {\r\n\r\n        this._dealScript = this.node_action.getComponent('Game_DealScript');\r\n        this._playerScript = this.node_player.getComponent('ZJH_Player');\r\n        this._tableScript = this.node_table.getComponent('ZJH_Table');\r\n        this.node.on(\"touchend\", (event: cc.Event.EventTouch) => {\r\n            this._tableScript.showAddReturnToState();\r\n            event.stopPropagation();\r\n        }, this);\r\n        this.bindOnPush();\r\n    }\r\n    onDestroy() {\r\n        this.bindOffPush();\r\n    }\r\n    start() {\r\n        if (dd.ui_manager.showLoading('正在加载桌子信息')) {\r\n            //获取房间信息\r\n            let obj = { 'tableId': dd.gm_manager.zjhGameData.tableId, 'type': 0 };\r\n            let msg = JSON.stringify(obj);\r\n            dd.ws_manager.sendMsg(dd.protocol.ZJH_JION_TABLEID, msg, (flag: number, content?: any) => {\r\n                dd.ui_manager.hideLoading();\r\n                if (flag === 0) {//成功\r\n                    dd.gm_manager.zjhGameData = content as GameData;\r\n                    this.showZJHInfo();\r\n                } else if (flag === -1) {//超时\r\n                } else {//失败,content是一个字符串\r\n                    dd.ui_manager.showAlert(content, '温馨提示', {\r\n                        lbl_name: '确定',\r\n                        callback: () => {\r\n                            if (dd.ui_manager.showLoading()) {\r\n                                dd.ud_manager.mineData.tableId = 0;\r\n                                cc.director.loadScene('HomeScene', () => {\r\n                                    dd.gm_manager.destroySelf();\r\n                                });\r\n                            }\r\n                        }\r\n                    });\r\n\r\n                }\r\n                cc.log(content);\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * \r\n     * @param {ZJH_Help.ZJH_Act_State} type \r\n     * @param {number} data  //看牌 = 0 比牌=别人的座位号 押注=金额\r\n     * @memberof ZJHCanvas\r\n     */\r\n    sendBetInfo(type: ZJH_Help.ZJH_Act_State, data: number) {\r\n        let mySeat = ZJH_Help.getSeatById(dd.ud_manager.mineData.accountId);\r\n        if (mySeat) {\r\n            let obj = {\r\n                'tableId': dd.gm_manager.zjhGameData.tableId,\r\n                'seatIndex': mySeat.seatIndex,\r\n                'bt': type,\r\n                'btVal': data,         //看牌 = 0 比牌=别人的座位号 押注=金额\r\n            };\r\n            //如果是下注，\r\n            if (type === ZJH_Help.ZJH_Act_State.BT_VAL_BETSAME || type === ZJH_Help.ZJH_Act_State.BT_VAL_BETADD) {\r\n\r\n                //如果下注的钱大于单注上限，\r\n                if (obj.btVal > dd.gm_manager.zjhGameData.onceMax) {\r\n                    obj.btVal = dd.gm_manager.zjhGameData.onceMax;\r\n                }\r\n                //如果下注的钱大于自己的钱，那么下注的钱就是自己身上所有的钱\r\n                if (obj.btVal > mySeat.money) {\r\n                    obj.btVal = mySeat.money;\r\n                }\r\n                //如果下注的钱 大于等于 自己身上所有的钱，就是全押\r\n                if (mySeat.money <= obj.btVal) {\r\n                    obj.bt = ZJH_Help.ZJH_Act_State.BT_VAL_BETALL;\r\n                }\r\n                obj.btVal = obj.btVal + mySeat.betMoney;\r\n            }\r\n\r\n            let msg = JSON.stringify(obj);\r\n            dd.ws_manager.sendMsg(dd.protocol.ZJH_TABLE_BET, msg, (flag: number, content?: any) => {\r\n                if (flag === 0) {//成功\r\n                    cc.log('下注成功');\r\n                } else if (flag === -1) {//超时\r\n                    cc.log(content);\r\n                } else {//失败,content是一个字符串\r\n                    dd.ui_manager.showTip(content);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n    * 发送准备\r\n    * \r\n    * @memberof MJCanvas\r\n    */\r\n    sendReadyGame() {\r\n        // if (dd.ui_manager.showLoading()) {\r\n        let obj = {\r\n            'tableId': dd.gm_manager.zjhGameData.tableId,\r\n        };\r\n        let msg = JSON.stringify(obj);\r\n        dd.ws_manager.sendMsg(dd.protocol.ZJH_TABLE_NN_GAME_READY, msg, (flag: number, content?: any) => {\r\n            dd.ui_manager.hideLoading();\r\n            if (flag === 0) {//成功\r\n            } else if (flag === -1) {//超时\r\n                dd.ui_manager.showTip('准备消息发送超时,请重试!');\r\n            } else {//失败,content是一个字符串\r\n                dd.ui_manager.showTip(content);\r\n            }\r\n        });\r\n        // }\r\n    }\r\n    /**\r\n     * 退出桌子\r\n     * \r\n     * @memberof MJCanvas\r\n     */\r\n    sendOutGame() {\r\n        if (dd.ui_manager.showLoading()) {\r\n            let obj = {\r\n                'tableId': dd.gm_manager.zjhGameData.tableId,\r\n            };\r\n            let msg = JSON.stringify(obj);\r\n            dd.ws_manager.sendMsg(dd.protocol.ZJH_TABLE_LEAVE, msg, (flag: number, content?: any) => {\r\n                dd.ui_manager.hideLoading();\r\n                if (flag === 0) {//成功\r\n                    this.sendGetRoomInfo();\r\n                } else if (flag === -1) {//超时\r\n                    cc.log(content);\r\n                } else {//失败,content是一个字符串\r\n                    dd.ui_manager.showAlert(content, '错误提示', {\r\n                        lbl_name: '确定',\r\n                        callback: () => {\r\n                            this.sendGetRoomInfo();\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * 获取房间列表\r\n     * \r\n     * @memberof ZJHCanvas\r\n     */\r\n    sendGetRoomInfo() {\r\n        if (dd.ui_manager.showLoading('正在获取房间列表,请稍后')) {\r\n            let obj = { 'gameType': 2 };\r\n            let msg = JSON.stringify(obj);\r\n            dd.ws_manager.sendMsg(dd.protocol.ZJH_GET_ROOM_LIST, msg, (flag: number, content?: any) => {\r\n                dd.ui_manager.hideLoading();\r\n                if (flag === 0) {//成功\r\n                    let items = content.items as RoomCfgItem[];\r\n                    dd.ud_manager.mineData.tableId = 0;\r\n                    cc.director.loadScene('ZJHRoomScene', () => {\r\n                        dd.gm_manager.destroySelf();\r\n                        dd.ui_manager.getCanvasNode().getComponent('ZJH_RoomCanvas').init(items);\r\n                    });\r\n                } else if (flag === -1) {//超时\r\n                    if (dd.ui_manager.showLoading()) {\r\n                        dd.ud_manager.mineData.tableId = 0;\r\n                        cc.director.loadScene('HomeScene', () => {\r\n                            dd.gm_manager.destroySelf();\r\n                        });\r\n                    }\r\n                } else {//失败,content是一个字符串\r\n                    if (dd.ui_manager.showLoading()) {\r\n                        dd.ud_manager.mineData.tableId = 0;\r\n                        cc.director.loadScene('HomeScene', () => {\r\n                            dd.gm_manager.destroySelf();\r\n                        });\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 显示扎金花信息\r\n     * \r\n     * @memberof ZJHCanvas\r\n     */\r\n    showZJHInfo() {\r\n        cc.log('------游戏状态----' + dd.gm_manager.zjhGameData.gameState);\r\n        cc.log(dd.gm_manager.zjhGameData);\r\n        //座位排序\r\n        dd.gm_manager.zjhGameData.seats = ZJH_Help.sortSeatList(dd.gm_manager.zjhGameData.seats);\r\n        this._playerScript.showPlayerInfo();\r\n        this._tableScript.showTableInfo();\r\n        this.showMask();\r\n\r\n        //动作\r\n        let action = dd.gm_manager.zjhGameData.gameState;\r\n        if (action !== ZJH_Help.ZJH_Game_State.STATE_TABLE_ZJH_OVER) {\r\n            this._isShowResult = false;\r\n        }\r\n        if (action !== ZJH_Help.ZJH_Game_State.STATE_TABLE_ZJH_FAPAI) {\r\n            this._isFPAction = false;\r\n        }\r\n        switch (action) {\r\n            case ZJH_Help.ZJH_Game_State.STATE_TABLE_ZJH_READY: {//准备\r\n                break;\r\n            }\r\n            case ZJH_Help.ZJH_Game_State.STATE_TABLE_ZJH_BASESCORE: {//下底注\r\n                //开始游戏的音效\r\n                dd.mp_manager.playStart(() => {\r\n                    //开始游戏，每个在玩玩家下底注\r\n                    let obj = this._playerScript.getFPPosList();\r\n                    this._dealScript.showDeal(obj.posList, (index: number) => {\r\n                        this._tableScript.playGoldAction(this._playerScript.getPosByIndex(index), dd.gm_manager.zjhGameData.baseScore);\r\n                    });\r\n                });\r\n                break;\r\n            }\r\n            case ZJH_Help.ZJH_Game_State.STATE_TABLE_ZJH_FAPAI: {//发牌\r\n                let dTime = (Number(dd.gm_manager.zjhGameData.actTime) - Number(dd.gm_manager.zjhGameData.svrTime)) / 1000;\r\n                //剩余时间大于0\r\n                if (dTime > 3) {\r\n                    dd.mp_manager.playZJH('fapai', () => {\r\n                        this.showFaPai();\r\n                    });\r\n                }\r\n                break;\r\n            }\r\n            case ZJH_Help.ZJH_Game_State.STATE_TABLE_ZJH_BET: {//表态\r\n                break;\r\n            }\r\n            case ZJH_Help.ZJH_Game_State.STATE_TABLE_ZJH_COMPARE: {//两个人比牌\r\n                let dTime = (Number(dd.gm_manager.zjhGameData.actTime) - Number(dd.gm_manager.zjhGameData.svrTime)) / 1000;\r\n                if (dTime > 3) {\r\n                    dd.mp_manager.playZJH('state_bp');\r\n                    this.showBPAction();\r\n                }\r\n                break;\r\n            }\r\n            case ZJH_Help.ZJH_Game_State.STATE_TABLE_ZJH_OVER: {\r\n                if (!this._isShowResult) {\r\n                    this._isShowResult = true;\r\n                    this._playerScript.showAllFPAction();\r\n                    //显示结算动画\r\n                    this.showWinAction();\r\n                }\r\n                break;\r\n            }\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    /**\r\n     * 显示发牌动画\r\n     * \r\n     * @memberof ZJHCanvas\r\n     */\r\n    showFaPai() {\r\n        if (this._isFPAction) return;\r\n        this._isFPAction = true;\r\n        let obj = this._playerScript.getFPPosList();\r\n        this._dealScript.showDealFP(cc.v2(0, 240), obj.posList, (index: number, roll: number) => {\r\n            this._playerScript.showPokerByIndex(obj.playerIndexList[index], roll, 0, false);\r\n        }, null, 3);\r\n    }\r\n\r\n    /**\r\n     * 显示翻牌牌动画\r\n     * @param {number} cardId 牌数据\r\n     * @param {cc.Node} parentNode 牌父节点\r\n     * @param {*} [cb] 回调函数\r\n     * @memberof ZJHCanvas\r\n     */\r\n    showFanPai(cardId: number, parentNode: cc.Node, cb?: any) {\r\n        let fanpai = cc.instantiate(this.fanpai_prefab);\r\n        let fpScript = fanpai.getComponent('Game_ActionFP');\r\n        fpScript.initData(cardId, dd.img_manager.getCardSpriteFrameById(cardId), cb);\r\n        fanpai.parent = parentNode;\r\n    }\r\n    /**\r\n     *显示牌信息 \r\n     * @param {number} cardId 牌数据\r\n     * @param {cc.Node} parentNode 牌父节点\r\n     * @param {boolean} [isShow=true]  是否显示\r\n     * @memberof ZJHCanvas\r\n     */\r\n    showCard(cardId: number, parentNode: cc.Node, isShow: boolean = true) {\r\n        let node_card = cc.instantiate(this.card_prefab);\r\n        let card_script = node_card.getComponent('Game_Card');\r\n        if (cardId > -1) {\r\n            let pokerImg = dd.img_manager.getCardSpriteFrameById(cardId);\r\n            card_script.initData(cardId, pokerImg, isShow);\r\n        }\r\n        node_card.parent = parentNode;\r\n    }\r\n\r\n    /**\r\n     * 显示倒计时\r\n     * @param {number} type \r\n     * @param {number} sTime \r\n     * @param {number} cTime \r\n     * @param {boolean} isPlayEfc \r\n     * @param {cc.Node} parentNode \r\n     * @memberof ZJHCanvas\r\n     */\r\n    showSJDAction(type: number, sTime: number, cTime: number, isPlayEfc: boolean, parentNode: cc.Node) {\r\n        let tdNode = null;\r\n        if (type === 0) {\r\n            tdNode = cc.instantiate(this.timeDown_prefab_list[0]);\r\n        } else {\r\n            tdNode = cc.instantiate(this.timeDown_prefab_list[1]);\r\n        }\r\n        let tdScript = tdNode.getComponent('Game_TimeDown');\r\n        tdScript.initData(sTime, cTime, isPlayEfc, parentNode);\r\n    }\r\n\r\n    /**\r\n     * 显示比牌动作\r\n     * @memberof ZJHCanvas\r\n     */\r\n    showBPAction() {\r\n        let bpAction = cc.instantiate(this.bpPrefab);\r\n        bpAction.parent = dd.ui_manager.getRootNode();\r\n        dd.mp_manager.playZJH('bp');\r\n    }\r\n\r\n    /**\r\n     * 显示比牌失败动作\r\n     * @param {any} pos \r\n     * @param {any} parentNode \r\n     * @memberof ZJHCanvas\r\n     */\r\n    showBPSBAction(pos, parentNode) {\r\n        dd.mp_manager.playZJH('kd');\r\n        let bpsbNode = cc.instantiate(this.bpsbPrefab);\r\n        bpsbNode.setPosition(pos);\r\n        bpsbNode.parent = parentNode;\r\n    }\r\n\r\n    /**\r\n     *显示弃牌动作\r\n     * @param {Number} seatId \r\n     * @returns \r\n     * @memberof ZJHCanvas\r\n     */\r\n    showQPAction(seatId: number, cb: any = null) {\r\n        if (seatId < 0 || seatId > 5) {\r\n            cc.log('弃牌索引错误');\r\n            return;\r\n        }\r\n        let index = ZJH_Help.getIndexBySeatId(seatId);\r\n        let pos = this._playerScript.getPosByIndex(index);\r\n        this._dealScript.showDealDiscard(pos, cb);\r\n\r\n        //获取自己的座位信息\r\n        let mySeat = ZJH_Help.getSeatById(dd.ud_manager.mineData.accountId);\r\n        //如果是自己\r\n        if (mySeat && mySeat.seatIndex === seatId) {\r\n            this._playerScript.showFPActionBySeatId(seatId);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 创建一个抖动的动作\r\n     * @param {number} seatId \r\n     * @param {cc.Vec2} pos \r\n     * @memberof ZJH_Table\r\n     */\r\n    showShakeAction(seatId: number, pos: cc.Vec2) {\r\n        let pokerShake = cc.instantiate(this.spPrefab);\r\n        pokerShake.setPosition(pos);\r\n        let shakeScript = pokerShake.getComponent(\"ZJH_PokerShake\");\r\n        shakeScript.initData(seatId, this);\r\n        pokerShake.parent = this.node_mask;\r\n        let anim = pokerShake.getComponent(cc.Animation);\r\n        anim.play();\r\n    }\r\n\r\n    onTouchMaskUp = (event: cc.Event.EventTouch) => {\r\n        this.showMask(false);\r\n        event.stopPropagation();\r\n    }\r\n    /**\r\n     * 显示游戏场景的遮罩\r\n     * @param {boolean} isShow  是否显示\r\n     * @memberof ZJHCanvas\r\n     */\r\n    showMask(isShow: boolean = false) {\r\n        this.node_mask.active = isShow;\r\n\r\n        if (isShow) {\r\n            this.node.on(\"touchend\", this.onTouchMaskUp, this);\r\n        } else {\r\n            this.node_mask.removeAllChildren(true);\r\n            this.node_mask.off('touchend', this.onTouchMaskUp, this);\r\n        }\r\n    }\r\n    /**\r\n     * 显示选择比牌的界面\r\n     * @memberof ZJHCanvas\r\n     */\r\n    showChooseBPAction() {\r\n        this.showMask(true);\r\n        this._playerScript.showPokerShakeAction();\r\n    }\r\n    /**\r\n     * 显示赢家动画\r\n     * @memberof ZJHCanvas\r\n     */\r\n    showWinAction() {\r\n        if (dd.gm_manager.zjhGameData.ZJHOverItems) {\r\n            let winlist = dd.gm_manager.zjhGameData.ZJHOverItems;\r\n            let winIndex = 0;\r\n            let winGold = 0;\r\n            for (var i = 0; i < winlist.length; i++) {\r\n                let gold = winlist[i].score;\r\n                if (gold > winGold) {\r\n                    winGold = gold;\r\n                    winIndex = winlist[i].seatIndex;\r\n                }\r\n            }\r\n            let index = ZJH_Help.getIndexBySeatId(winIndex);\r\n            let pos = this._playerScript.getPosByIndex(index);\r\n            this._tableScript.playWinGoldAction(pos, () => {\r\n                for (var i = 0; i < winlist.length; i++) {\r\n                    let nGold = winlist[i].score;\r\n                    let nIndex = ZJH_Help.getIndexBySeatId(winlist[i].seatIndex);\r\n                    let ePos = this._playerScript.getPosByIndex(nIndex);\r\n                    let color = nGold > 0 ? cc.Color.RED : cc.Color.GREEN;\r\n                    let str = dd.utils.getShowNumberString(nGold);\r\n                    if (nGold > 0) {\r\n                        str = '+' + str;\r\n                    }\r\n                    this.craeteLalelAction(str, ePos, color);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 创建文本动作\r\n     * @param {string} str 文本\r\n     * @param {cc.Vec2} pos 坐标点\r\n     * @param {cc.Color} color 颜色\r\n     * @param {cc.Node} parentNode  父节点\r\n     * @memberof ZJHCanvas\r\n     */\r\n    craeteLalelAction(str: string, pos: cc.Vec2, color: cc.Color) {\r\n        let lblNode = new cc.Node();\r\n        lblNode.color = color;\r\n        lblNode.setPosition(pos);\r\n        let lbl = lblNode.addComponent(cc.Label);\r\n        lbl.fontSize = 50;\r\n        lbl.lineHeight = 50;\r\n        lbl.string = str;\r\n        lblNode.parent = dd.ui_manager.getRootNode();\r\n        let seq = cc.sequence(cc.moveTo(2, cc.v2(pos.x, pos.y + 80)), cc.callFunc(() => {\r\n            lblNode.removeFromParent(true);\r\n            lblNode.destroy();\r\n        }));\r\n        lblNode.runAction(seq);\r\n    }\r\n}\r\n"]}