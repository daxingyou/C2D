{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\SceneScript\\Home/assets\\Script\\SceneScript\\Home\\Setting.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\SceneScript\\Home","sourcesContent":["\r\nconst { ccclass, property } = cc._decorator;\r\nimport * as dd from './../../Modules/ModuleManager';\r\n@ccclass\r\nexport default class Game_Setting extends cc.Component {\r\n\r\n    @property([cc.SpriteFrame])\r\n    img_onOff_list: cc.SpriteFrame[] = [];\r\n\r\n    @property(cc.Sprite)\r\n    effect_img: cc.Sprite = null;\r\n\r\n    @property(cc.Sprite)\r\n    music_img: cc.Sprite = null;\r\n    /**\r\n     * 注销游戏\r\n     * \r\n     * @type {cc.Node}\r\n     * @memberof Game_Setting\r\n     */\r\n    @property(cc.Node)\r\n    btn_logout: cc.Node = null;\r\n\r\n    onLoad() {\r\n        this.node.on(\"touchend\", (event: cc.Event.EventTouch) => {\r\n            event.stopPropagation();\r\n            dd.ui_manager.isShowPopup = true;\r\n            this.node.removeFromParent(true);\r\n            this.node.destroy();\r\n        }, this);\r\n\r\n        this.effect_img.spriteFrame = dd.mp_manager.audioSetting.isEffect === true ? this.img_onOff_list[0] : this.img_onOff_list[1];\r\n        this.music_img.spriteFrame = dd.mp_manager.audioSetting.isMusic === true ? this.img_onOff_list[0] : this.img_onOff_list[1];\r\n    }\r\n\r\n    /**\r\n     * 点击音效按钮\r\n     * \r\n     * @memberof Game_Setting\r\n     */\r\n    click_btn_effect() {\r\n        dd.mp_manager.playButton();\r\n        dd.mp_manager.audioSetting.isEffect = !dd.mp_manager.audioSetting.isEffect;\r\n        dd.mp_manager.saveMPSetting();\r\n        this.effect_img.spriteFrame = dd.mp_manager.audioSetting.isEffect === true ? this.img_onOff_list[0] : this.img_onOff_list[1];\r\n    }\r\n\r\n    /**\r\n     * 点击音乐按钮\r\n     * \r\n     * @memberof Game_Setting\r\n     */\r\n    click_btn_music() {\r\n        dd.mp_manager.playButton();\r\n        dd.mp_manager.audioSetting.isMusic = !dd.mp_manager.audioSetting.isMusic;\r\n        dd.mp_manager.saveMPSetting();\r\n        if (!dd.mp_manager.audioSetting.isMusic) {\r\n            dd.mp_manager.stopBackGround();\r\n        } else {\r\n            dd.mp_manager.playBackGround();\r\n        }\r\n        this.music_img.spriteFrame = dd.mp_manager.audioSetting.isMusic === true ? this.img_onOff_list[0] : this.img_onOff_list[1];\r\n    }\r\n\r\n    /**\r\n    * 点击退出游戏\r\n    * \r\n    * @memberof Setting\r\n    */\r\n    click_btn_logout() {\r\n        dd.mp_manager.playButton();\r\n        if (dd.ui_manager.showLoading('正在注销，请稍后')) {\r\n            let obj = { 'accountId': dd.ud_manager.mineData.accountId };\r\n            let msg = JSON.stringify(obj);\r\n            dd.ws_manager.sendMsg(dd.protocol.ACCOUNT_LOGIN_OUT, msg, (flag: number, content?: any) => {\r\n                dd.ws_manager.disconnect(() => {\r\n                    dd.destroy();\r\n                    cc.sys.garbageCollect();\r\n                    cc.game.restart();\r\n                });\r\n            });\r\n        }\r\n    }\r\n}\r\n"]}