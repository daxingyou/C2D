{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\Script\\SceneScript\\ZJH\\Room/assets\\Script\\SceneScript\\ZJH\\Room\\ZJH_RoomCanvas.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\Script\\SceneScript\\ZJH\\Room","sourcesContent":["const { ccclass, property } = cc._decorator;\r\nimport * as dd from './../../../Modules/ModuleManager';\r\n@ccclass\r\nexport default class ZJH_RoomCanvas extends cc.Component {\r\n\r\n    /**\r\n     * 玩家名称\r\n     * \r\n     * @type {cc.Label}\r\n     * @memberof HomeCanvas\r\n     */\r\n    @property(cc.Label)\r\n    lblName: cc.Label = null;\r\n\r\n    /**\r\n     * 玩家金币\r\n     * \r\n     * @type {cc.Label}\r\n     * @memberof HomeCanvas\r\n     */\r\n    @property(cc.Label)\r\n    lblGold: cc.Label = null;\r\n    /**\r\n     * 玩家ID\r\n     * \r\n     * @type {cc.Label}\r\n     * @memberof HomeCanvas\r\n     */\r\n    @property(cc.Label)\r\n    lblStarNo: cc.Label = null;\r\n\r\n    /**\r\n     * 玩家头像\r\n     * \r\n     * @type {cc.Sprite}\r\n     * @memberof HomeCanvas\r\n     */\r\n    @property(cc.Sprite)\r\n    headImg: cc.Sprite = null;\r\n    /**\r\n     * item列表容器\r\n     * \r\n     * @type {cc.ScrollView}\r\n     * @memberof ZJH_RoomCanvas\r\n     */\r\n    @property(cc.ScrollView)\r\n    svNode: cc.ScrollView = null;\r\n    /**\r\n     * 房间item预设\r\n     * \r\n     * @type {cc.Prefab}\r\n     * @memberof ZJH_RoomCanvas\r\n     */\r\n    @property(cc.Prefab)\r\n    room_item_prefab: cc.Prefab = null;\r\n    /**\r\n     * 底板图片列表\r\n     * @type {cc.SpriteFrame[]}\r\n     * @memberof ZJH_RoomCanvas\r\n     */\r\n    @property(cc.SpriteFrame)\r\n    board_img_list: cc.SpriteFrame[] = [];\r\n\r\n    @property(cc.Sprite)\r\n    imgTitle: cc.Sprite = null;\r\n\r\n    @property([cc.SpriteFrame])\r\n    title_img_list: cc.SpriteFrame[] = [];\r\n\r\n    @property(cc.Node)\r\n    node_board1: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    node_board2: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    layer1: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    layer2: cc.Node = null;\r\n\r\n    @property([cc.Label])\r\n    lblInputList: cc.Label[] = [];\r\n    /**\r\n     * 当前输入的数字索引\r\n     * \r\n     * @type {number}\r\n     * @memberof Room_Join_Normal\r\n     */\r\n    _curIndex: number = 0;\r\n    /**\r\n     * 等级场数据\r\n     * @type {RoomCfgItem}\r\n     * @memberof ZJH_RoomCanvas\r\n     */\r\n    _cfgData: RoomCfgItem = null;\r\n    onLoad() {\r\n\r\n    }\r\n    /**\r\n     * 初始化输入数据\r\n     * \r\n     * @memberof Room_Join_Normal\r\n     */\r\n    initInput(): void {\r\n        this._curIndex = 0;\r\n        for (var i = 0; i < this.lblInputList.length; i++) {\r\n            this.lblInputList[i].string = '';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 显示房间界面\r\n     * @param {number} type 0=列表界面 1=等级场界面\r\n     * @param {any} itemData \r\n     * @memberof ZJH_RoomCanvas\r\n     */\r\n    showRoomBoard(type: number, index: number = 0, itemData?: RoomCfgItem) {\r\n        this.node_board1.active = type === 0 ? true : false;\r\n        this.node_board2.active = type === 1 ? true : false;\r\n        if (type === 0) {\r\n\r\n        } else {\r\n            this.layer1.active = true;\r\n            this.layer2.active = false;\r\n            this.initInput();\r\n            this._cfgData = itemData;\r\n            this.imgTitle.spriteFrame = this.title_img_list[index];\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 发送加入房间的数据\r\n     * \r\n     * @memberof Room_Join_Normal\r\n     */\r\n    sendJoinRoom(tableId: string, type: number) {\r\n        let obj = { 'tableId': tableId, 'type': type };\r\n        let msg = JSON.stringify(obj);\r\n        dd.ws_manager.sendMsg(dd.protocol.ZJH_JION_TABLEID, msg, (flag: number, content?: any) => {\r\n            if (flag === 0) {//成功\r\n                dd.gm_manager.zjhGameData = content as GameData;\r\n                cc.director.loadScene('ZJHScene');\r\n            } else if (flag === -1) {//超时\r\n                dd.ui_manager.hideLoading();\r\n            } else {//失败,content是一个字符串\r\n                dd.ui_manager.showTip(content);\r\n                dd.ui_manager.hideLoading();\r\n            }\r\n            cc.log(content);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 发送匹配房间的数据\r\n     * \r\n     * @memberof Room_Join_Normal\r\n     */\r\n    sendQuickRoom() {\r\n        if (dd.ui_manager.showLoading()) {\r\n            let obj = { 'cfgId': this._cfgData.cfgId };\r\n            let msg = JSON.stringify(obj);\r\n            dd.ws_manager.sendMsg(dd.protocol.ZJH_QUICK_JOIN, msg, (flag: number, content?: any) => {\r\n                if (flag === 0) {//成功\r\n                    dd.gm_manager.zjhGameData = content as GameData;\r\n                    cc.director.loadScene('ZJHScene');\r\n                } else if (flag === -1) {//超时\r\n                    dd.ui_manager.hideLoading();\r\n                } else {//失败,content是一个字符串\r\n                    dd.ui_manager.showTip(content);\r\n                    dd.ui_manager.hideLoading();\r\n                }\r\n                cc.log(content);\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * 发送创建房间的数据\r\n     * \r\n     * @memberof Room_Join_Normal\r\n     */\r\n    sendCreateRoom() {\r\n        if (dd.ui_manager.showLoading()) {\r\n            let obj = { 'cfgId': this._cfgData.cfgId };\r\n            let msg = JSON.stringify(obj);\r\n            dd.ws_manager.sendMsg(dd.protocol.ZJH_TABLE_CREATE, msg, (flag: number, content?: any) => {\r\n                if (flag === 0) {//成功\r\n                    dd.gm_manager.zjhGameData = content as GameData;\r\n                    cc.director.loadScene('ZJHScene');\r\n                } else if (flag === -1) {//超时\r\n                    dd.ui_manager.hideLoading();\r\n                } else {//失败,content是一个字符串\r\n                    dd.ui_manager.showTip(content);\r\n                    dd.ui_manager.hideLoading();\r\n                }\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * 返回游戏\r\n     * \r\n     * @memberof ZJH_RoomCanvas\r\n     */\r\n    returnToGame() {\r\n        //拉回桌子\r\n        if (dd.ud_manager && dd.ud_manager.mineData && dd.ud_manager.mineData.tableId !== 0) {\r\n            if (dd.ui_manager.showLoading('正在重新进入未完成的游戏')) {\r\n                this.sendJoinRoom(dd.ud_manager.mineData.tableId + '', 0);\r\n            }\r\n        } else {\r\n            this.showRoomBoard(0);\r\n        }\r\n    }\r\n    /**\r\n        * 界面刷新\r\n        * \r\n        * @param {number} dt \r\n        * @memberof HomeCanvas\r\n        */\r\n    update(dt: number) {\r\n        //刷新玩家信息\r\n        if (dd.ud_manager && dd.ud_manager.mineData) {\r\n            this.lblName.string = dd.ud_manager.mineData.nick;\r\n            this.lblGold.string = dd.utils.getShowNumberString(dd.ud_manager.mineData.roomCard);\r\n            this.lblStarNo.string = '  (ID:' + dd.ud_manager.mineData.starNO + ')';\r\n            this.headImg.spriteFrame = dd.img_manager.getHeadById(Number(dd.ud_manager.mineData.headImg));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 显示房间列表\r\n     * @memberof ZJH_RoomCanvas\r\n     */\r\n    init(data: RoomCfgItem[]) {\r\n        this.svNode.content.removeAllChildren();\r\n        if (!data) data = [];\r\n        for (var i = 0; i < data.length; i++) {\r\n            let index = i;\r\n            let room_item = cc.instantiate(this.room_item_prefab);\r\n            let room_item_script = room_item.getComponent('ZJH_Room_Item');\r\n            room_item_script.updateItem(data[i], i, this, (itemData: RoomCfgItem) => {\r\n                this.showRoomBoard(1, index, itemData);\r\n            });\r\n            room_item.parent = this.svNode.content;\r\n        }\r\n        this.returnToGame();\r\n    }\r\n    /**\r\n     * 房间等级场的按钮点击 \r\n     * @param {any} event \r\n     * @param {string} type 0=加入房间 1=创建私人房间 2=随机匹配\r\n     * @memberof ZJH_RoomCanvas\r\n     */\r\n    click_btn_grade(event, type: string) {\r\n        dd.mp_manager.playButton();\r\n        switch (type) {\r\n            case '0'://加入房间\r\n                this.layer1.active = false;\r\n                this.layer2.active = true;\r\n                break;\r\n            case '1'://创建私人房间\r\n                this.sendCreateRoom();\r\n                break;\r\n            case '2'://随机匹配\r\n                this.sendQuickRoom();\r\n                break;\r\n            default:\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 输入数字的点击事件\r\n     * \r\n     * @param {cc.Event.EventTouch} event \r\n     * @param {string} num \r\n     * @memberof Room_Join_Normal\r\n     */\r\n    click_btn_input(event: cc.Event.EventTouch, num: string): void {\r\n        dd.mp_manager.playButton();\r\n        switch (num) {\r\n            case '10'://删除\r\n                this.deleteLastInput();\r\n                break;\r\n            case '11'://加入\r\n                this.joinRoom();\r\n                break;\r\n            default:\r\n                this.showInputNum(num);\r\n                break;\r\n        }\r\n    }\r\n\r\n    /**\r\n     *删除上一个输入的数字 \r\n     * \r\n     * @memberof Room_Join_Normal\r\n     */\r\n    deleteLastInput(): void {\r\n        if (this._curIndex <= 0) return;\r\n        this.lblInputList[this._curIndex - 1].string = '';\r\n        if (this._curIndex > 0)\r\n            this._curIndex--;\r\n    }\r\n    /**\r\n     * 加入房间\r\n     * \r\n     * @memberof ZJH_RoomCanvas\r\n     */\r\n    joinRoom() {\r\n        if (this._curIndex === this.lblInputList.length) {\r\n            cc.log('输入完毕');\r\n            let tableId = '';\r\n            for (var i = 0; i < this.lblInputList.length; i++) {\r\n                tableId += this.lblInputList[i].string;\r\n            }\r\n            if (dd.ui_manager.showLoading()) {\r\n                this.sendJoinRoom(tableId, 1);\r\n            }\r\n        } else {\r\n            dd.ui_manager.showTip('请输入6位房间号');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 显示当前输入的数字\r\n     * \r\n     * @param {string} num \r\n     * @memberof Room_Join_Normal\r\n     */\r\n    showInputNum(num: string): void {\r\n        dd.mp_manager.playButton();\r\n        if (this._curIndex < this.lblInputList.length) {\r\n            this.lblInputList[this._curIndex].string = num;\r\n            if (this._curIndex < this.lblInputList.length) {\r\n                this._curIndex++;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 退出\r\n     * \r\n     * @memberof ZJH_RoomCanvas\r\n     */\r\n    click_btn_out() {\r\n        dd.mp_manager.playButton();\r\n        if (this.node_board1.active) {\r\n            if (dd.ui_manager.showLoading())\r\n                cc.director.loadScene('HomeScene');\r\n        } else {\r\n            if (this.layer1.active) {\r\n                this.showRoomBoard(0);\r\n            } else {\r\n                this.initInput();\r\n                this.layer1.active = true;\r\n                this.layer2.active = false;\r\n            }\r\n        }\r\n    }\r\n}\r\n"]}