{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\SceneScript\\Home/assets\\Script\\SceneScript\\Home\\HomeCanvas.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\SceneScript\\Home","sourcesContent":["const { ccclass, property } = cc._decorator;\r\nimport * as dd from './../../Modules/ModuleManager';\r\n\r\n@ccclass\r\nexport default class HomeCanvas extends cc.Component {\r\n\r\n    /**\r\n     * 玩家名称\r\n     * \r\n     * @type {cc.Label}\r\n     * @memberof HomeCanvas\r\n     */\r\n    @property(cc.Label)\r\n    lblName: cc.Label = null;\r\n\r\n    /**\r\n     * 玩家金币\r\n     * \r\n     * @type {cc.Label}\r\n     * @memberof HomeCanvas\r\n     */\r\n    @property(cc.Label)\r\n    lblGold: cc.Label = null;\r\n    /**\r\n     * 玩家ID\r\n     * \r\n     * @type {cc.Label}\r\n     * @memberof HomeCanvas\r\n     */\r\n    @property(cc.Label)\r\n    lblStarNo: cc.Label = null;\r\n\r\n    /**\r\n     * 玩家头像\r\n     * \r\n     * @type {cc.Sprite}\r\n     * @memberof HomeCanvas\r\n     */\r\n    @property(cc.Sprite)\r\n    headImg: cc.Sprite = null;\r\n\r\n\r\n    /**\r\n     * 设置界面预设\r\n     * \r\n     * @type {cc.Prefab}\r\n     * @memberof HomeCanvas\r\n     */\r\n    @property(cc.Prefab)\r\n    setting_prefab: cc.Prefab = null;\r\n    /**\r\n     * 客服预设\r\n     * @type {cc.Prefab}\r\n     * @memberof HomeCanvas\r\n     */\r\n    @property(cc.Prefab)\r\n    service_prefab: cc.Prefab = null;\r\n\r\n    /**\r\n     * 充值预设\r\n     * @type {cc.Prefab}\r\n     * @memberof HomeCanvas\r\n     */\r\n    @property(cc.Prefab)\r\n    recharge_prefab: cc.Prefab = null;\r\n\r\n    /**\r\n     * 兑换预设\r\n     * @type {cc.Prefab}\r\n     * @memberof HomeCanvas\r\n     */\r\n    @property(cc.Prefab)\r\n    exchange_prefab: cc.Prefab = null;\r\n\r\n    _setting: cc.Node = null;\r\n    _service: cc.Node = null;\r\n    _recharge: cc.Node = null;\r\n    _exchange: cc.Node = null;\r\n\r\n    needWait: boolean = false;\r\n\r\n    start() {\r\n        //拉回桌子\r\n        if (dd.ud_manager && dd.ud_manager.mineData && dd.ud_manager.mineData.tableId !== 0) {\r\n            if (dd.ui_manager.showLoading('正在重新进入未完成的游戏')) {\r\n                let obj = { 'tableId': dd.ud_manager.mineData.tableId, 'type': 0 };\r\n                let msg = JSON.stringify(obj);\r\n                dd.ws_manager.sendMsg(dd.protocol.ZJH_JION_TABLEID, msg, (flag: number, content?: any) => {\r\n                    if (flag === 0) {//成功\r\n                        switch (content.gameType) {\r\n                            case 1:\r\n                                dd.gm_manager.nnGameData = content as GameData;\r\n                                cc.director.loadScene('NNScene');\r\n                                break;\r\n                            case 2:\r\n                                dd.gm_manager.zjhGameData = content as GameData;\r\n                                cc.director.loadScene('ZJHScene');\r\n                                break;\r\n                            default: break;\r\n                        }\r\n                    } else if (flag === -1) {//超时\r\n                        dd.ui_manager.showTip('获取桌子信息超时!');\r\n                    } else {//失败,content是一个字符串\r\n                        dd.ui_manager.showTip(content);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 界面刷新\r\n     * \r\n     * @param {number} dt \r\n     * @memberof HomeCanvas\r\n     */\r\n    update(dt: number) {\r\n        //刷新玩家信息\r\n        if (dd.ud_manager && dd.ud_manager.mineData) {\r\n            this.lblName.string = dd.ud_manager.mineData.nick;\r\n            this.lblGold.string = dd.utils.getShowNumberString(dd.ud_manager.mineData.roomCard);\r\n            this.lblStarNo.string = '  (ID:' + dd.ud_manager.mineData.starNO + ')';\r\n            this.headImg.spriteFrame = dd.img_manager.getHeadById(Number(dd.ud_manager.mineData.headImg));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 进入游戏\r\n     * \r\n     * @param {any} event \r\n     * @param {string} type \r\n     * @memberof HomeCanvas\r\n     */\r\n    click_btn_game(event, type: string) {\r\n        if (this.needWait) return;\r\n        dd.mp_manager.playButton();\r\n        if (dd.ui_manager.showLoading('正在获取房间列表,请稍后')) {\r\n            this.needWait = true;\r\n            let obj = { 'gameType': type === '0' ? 1 : 2 };\r\n            let msg = JSON.stringify(obj);\r\n            dd.ws_manager.sendMsg(dd.protocol.ZJH_GET_ROOM_LIST, msg, (flag: number, content?: any) => {\r\n                if (flag === 0) {//成功\r\n                    let items = content.items as RoomCfgItem[];\r\n                    if (type === '0') {\r\n                        cc.director.loadScene('NNRoomScene', () => {\r\n                            dd.ui_manager.getCanvasNode().getComponent('NNRoomCanvas').init(items);\r\n                        });\r\n                    } else {\r\n                        cc.director.loadScene('ZJHRoomScene', () => {\r\n                            dd.ui_manager.getCanvasNode().getComponent('ZJH_RoomCanvas').init(items);\r\n                        });\r\n                    }\r\n                } else if (flag === -1) {//超时\r\n                    dd.ui_manager.showTip('获取房间列表失败,请重试!');\r\n                } else {//失败,content是一个字符串\r\n                    dd.ui_manager.showTip(content);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 点击设置\r\n     * \r\n     * @memberof HomeCanvas\r\n     */\r\n    click_btn_setting() {\r\n        dd.mp_manager.playButton();\r\n        if (dd.ui_manager.isShowPopup) {\r\n            if (dd.ui_manager.showLoading()) {\r\n                if (!this._setting || !this._setting.isValid) {\r\n                    dd.ui_manager.isShowPopup = false;\r\n                    this._setting = cc.instantiate(this.setting_prefab);\r\n                    this._setting.parent = this.node;\r\n                    dd.ui_manager.hideLoading();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * 点击充值\r\n     * \r\n     * @memberof HomeCanvas\r\n     */\r\n    click_btn_recharge() {\r\n        dd.mp_manager.playButton();\r\n        //获取兑换比例\r\n        if (dd.ui_manager.showLoading()) {\r\n            dd.ws_manager.sendMsg(dd.protocol.ORDER_GET_EXCHANAGE_PERCENT, '', (flag: number, content?: any) => {\r\n                if (flag === 0) {//成功\r\n                    if (!this._recharge || !this._recharge.isValid) {\r\n                        dd.ui_manager.isShowPopup = false;\r\n                        this._recharge = cc.instantiate(this.recharge_prefab);\r\n                        this._recharge.parent = this.node;\r\n                        let rechargeScript = this._recharge.getComponent('Recharge');\r\n                        rechargeScript.initData(content);\r\n                        dd.ui_manager.hideLoading();\r\n                    }\r\n                } else if (flag === -1) {//超时\r\n                    dd.ui_manager.hideLoading();\r\n                } else {//失败,content是一个字符串\r\n                    dd.ui_manager.hideLoading();\r\n                }\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * 兑换\r\n     * @memberof HomeCanvas\r\n     */\r\n    click_btn_exchange() {\r\n        dd.mp_manager.playButton();\r\n        //获取兑换比例\r\n        if (dd.ui_manager.showLoading()) {\r\n            dd.ws_manager.sendMsg(dd.protocol.ORDER_GET_EXCHANAGE_PERCENT, '', (flag: number, content?: any) => {\r\n                if (flag === 0) {//成功\r\n                    if (!this._exchange || !this._exchange.isValid) {\r\n                        dd.ui_manager.isShowPopup = false;\r\n                        this._exchange = cc.instantiate(this.exchange_prefab);\r\n                        this._exchange.parent = this.node;\r\n                        let exchangeScript = this._exchange.getComponent('Exchange');\r\n                        exchangeScript.initData(content);\r\n                        dd.ui_manager.hideLoading();\r\n                    }\r\n                } else if (flag === -1) {//超时\r\n                    dd.ui_manager.hideLoading();\r\n                } else {//失败,content是一个字符串\r\n                    dd.ui_manager.hideLoading();\r\n                }\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * 客服\r\n     * \r\n     * @memberof HomeCanvas\r\n     */\r\n    click_btn_service() {\r\n        dd.mp_manager.playButton();\r\n        if (dd.ui_manager.showLoading()) {\r\n            dd.ws_manager.sendMsg(dd.protocol.ACCOUNT_CUSTOMER_SERVICE, '', (flag: number, content?: any) => {\r\n                dd.ui_manager.hideLoading();\r\n                if (flag === 0) {//成功\r\n                    if (dd.ui_manager.isShowPopup) {\r\n                        if (!this._service || !this._service.isValid) {\r\n                            dd.ui_manager.isShowPopup = false;\r\n                            this._service = cc.instantiate(this.service_prefab);\r\n                            let service_script = this._service.getComponent('Service');\r\n                            service_script.initData(content);\r\n                            this._service.parent = this.node;\r\n                        }\r\n                    }\r\n                } else if (flag === -1) {//超时\r\n                } else {//失败,content是一个字符串\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n"]}