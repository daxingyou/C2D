{"version":3,"sources":["Setting.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\SceneScript\\Home","sourcesContent":["const { ccclass, property } = cc._decorator;\r\nimport * as dd from './../../Modules/ModuleManager';\r\nimport * as MJ_Help from './../Game/MJ_Help';\r\n@ccclass\r\nexport default class Game_Setting extends cc.Component {\r\n\r\n    /**\r\n     * 报牌音列表\r\n     * \r\n     * @type {cc.Toggle[]}\r\n     * @memberof Game_Setting\r\n     */\r\n    @property([cc.Toggle])\r\n    toggle_bp_list: cc.Toggle[] = [];\r\n\r\n    /**\r\n     * 注销游戏\r\n     * \r\n     * @type {cc.Node}\r\n     * @memberof Game_Setting\r\n     */\r\n    @property(cc.Node)\r\n    btn_logout: cc.Node = null;\r\n\r\n    /**\r\n     * 解散房间\r\n     * \r\n     * @type {cc.Node}\r\n     * @memberof Game_Setting\r\n     */\r\n    @property(cc.Node)\r\n    btn_disband: cc.Node = null;\r\n\r\n    /**\r\n     * 解散房间\r\n     * \r\n     * @type {cc.Node}\r\n     * @memberof Game_Setting\r\n     */\r\n    @property(cc.Node)\r\n    btn_return: cc.Node = null;\r\n\r\n    @property(cc.Sprite)\r\n    img_effect: cc.Sprite = null;\r\n\r\n    @property(cc.Sprite)\r\n    img_music: cc.Sprite = null;\r\n\r\n    @property([cc.SpriteFrame])\r\n    on_off_list: cc.SpriteFrame[] = [];\r\n    /**\r\n     * 显示类型\r\n     * \r\n     * @type {number} -1大厅 0聊天房 1普通房\r\n     * @memberof Game_Setting\r\n     */\r\n    _showType: number = 0;\r\n\r\n    onLoad() {\r\n        this.node.on(\"touchend\", (event: cc.Event.EventTouch) => {\r\n            event.stopPropagation();\r\n            dd.ui_manager.isShowPopup = true;\r\n            if (this._showType === -1) {\r\n                this.node.removeFromParent(true);\r\n                this.node.destroy();\r\n            } else {\r\n                this.node.active = false;\r\n            }\r\n        }, this);\r\n    }\r\n\r\n    update(dt) {\r\n        if (dd.ud_manager && dd.gm_manager.mjGameData && dd.gm_manager.mjGameData.tableBaseVo) {\r\n            if (dd.gm_manager.mjGameData.tableBaseVo.currGameNum > 1\r\n                || dd.gm_manager.mjGameData.tableBaseVo.gameState > MJ_Help.MJ_GameState.STATE_TABLE_IDLE) {\r\n                this.btn_disband.active = true;\r\n                this.btn_return.active = false;\r\n            } else {\r\n                if (dd.ud_manager.mineData.accountId === dd.gm_manager.mjGameData.tableBaseVo.createPlayer) {\r\n                    this.btn_disband.active = true;\r\n                    this.btn_return.active = false;\r\n                } else {\r\n                    this.btn_disband.active = false;\r\n                    this.btn_return.active = true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * 初始化显示\r\n     * \r\n     * @param {number} type \r\n     * @memberof Game_Setting\r\n     */\r\n    initData(type: number) {\r\n        this._showType = type;\r\n        this.img_effect.spriteFrame = dd.mp_manager.audioSetting.isEffect === true ? this.on_off_list[0] : this.on_off_list[1];\r\n        this.img_music.spriteFrame = dd.mp_manager.audioSetting.isMusic === true ? this.on_off_list[0] : this.on_off_list[1];\r\n        switch (this._showType) {\r\n            case -1:\r\n                this.btn_disband.active = false;\r\n                this.btn_logout.active = true;\r\n                this.btn_return.active = false;\r\n                break;\r\n            case 0:\r\n                this.btn_disband.active = true;\r\n                this.btn_logout.active = false;\r\n                this.btn_return.active = false;\r\n                break;\r\n            case 1:\r\n                this.btn_disband.active = true;\r\n                this.btn_logout.active = false;\r\n                this.btn_return.active = false;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        for (var i = 0; i < this.toggle_bp_list.length; i++) {\r\n            if (dd.mp_manager.audioSetting.language === i) {\r\n                this.toggle_bp_list[i].isChecked = true;\r\n            } else {\r\n                this.toggle_bp_list[i].isChecked = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 点击音效按钮\r\n     * \r\n     * @memberof Game_Setting\r\n     */\r\n    click_btn_effect() {\r\n        dd.mp_manager.playButton();\r\n        dd.mp_manager.audioSetting.isEffect = !dd.mp_manager.audioSetting.isEffect;\r\n        this.img_effect.spriteFrame = dd.mp_manager.audioSetting.isEffect === true ? this.on_off_list[0] : this.on_off_list[1];\r\n        dd.mp_manager.saveMPSetting();\r\n    }\r\n\r\n    /**\r\n     * 点击音乐按钮\r\n     * \r\n     * @memberof Game_Setting\r\n     */\r\n    click_btn_music() {\r\n        dd.mp_manager.playButton();\r\n        dd.mp_manager.audioSetting.isMusic = !dd.mp_manager.audioSetting.isMusic;\r\n        dd.mp_manager.saveMPSetting();\r\n        this.img_music.spriteFrame = dd.mp_manager.audioSetting.isMusic === true ? this.on_off_list[0] : this.on_off_list[1];\r\n        if (!dd.mp_manager.audioSetting.isMusic) {\r\n            dd.mp_manager.stopBackGround();\r\n        } else {\r\n            dd.mp_manager.playBackGround();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 点击报牌音\r\n     * \r\n     * @memberof Game_Setting\r\n     */\r\n    click_toggle_bp(event, type: string) {\r\n        dd.mp_manager.playButton();\r\n        cc.log('---报牌音--' + type);\r\n        dd.mp_manager.audioSetting.language = Number(type);\r\n        dd.mp_manager.saveMPSetting();\r\n    }\r\n\r\n    /**\r\n    * 点击退出游戏\r\n    * \r\n    * @memberof PT_Setting\r\n    */\r\n    click_btn_logout() {\r\n        dd.mp_manager.playButton();\r\n        if (dd.ui_manager.showLoading('正在注销，请稍后')) {\r\n            let obj = { 'accountId': dd.ud_manager.mineData.accountId };\r\n            let msg = JSON.stringify(obj);\r\n            dd.ws_manager.sendMsg(dd.protocol.ACCOUNT_LOGIN_OUT, msg, (flag: number, content?: any) => {\r\n                dd.ws_manager.disconnect(() => {\r\n                    dd.destroy();\r\n                    let db = cc.sys.localStorage;\r\n                    if (db.getItem('TokenInfo')) {//验证是否有授权过\r\n                        db.removeItem('TokenInfo');\r\n                    }\r\n                    cc.sys.garbageCollect();\r\n                    cc.game.restart();\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 点击解散游戏\r\n     * \r\n     * @memberof Game_Setting\r\n     */\r\n    click_btn_disband() {\r\n        dd.mp_manager.playButton();\r\n        if (dd.ui_manager.showLoading()) {\r\n            let obj = {\r\n                'tableId': dd.gm_manager.mjGameData.tableBaseVo.tableId,\r\n            };\r\n            let msg = JSON.stringify(obj);\r\n            dd.ws_manager.sendMsg(dd.protocol.MAJIANG_ROOM_QUEST_DELETE, msg, (flag: number, content?: any) => {\r\n                dd.ui_manager.hideLoading();\r\n                if (flag === 0) {//成功\r\n                    dd.ui_manager.isShowPopup = true;\r\n                    if (this._showType === -1) {\r\n                        this.node.removeFromParent(true);\r\n                        this.node.destroy();\r\n                    } else {\r\n                        this.node.active = false;\r\n                    }\r\n                    //如果在空闲等待阶段解散房间\r\n                    if (dd.gm_manager.mjGameData.tableBaseVo.gameState === MJ_Help.MJ_GameState.STATE_TABLE_IDLE) {\r\n                        this.quitGame();\r\n                    }\r\n                } else if (flag === -1) {//超时\r\n                    cc.log(content);\r\n                } else {//失败,content是一个字符串\r\n                    dd.ui_manager.showAlert(content, '错误提示', null, null, 1);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n    * 退出游戏房间，跳转到大厅\r\n    * \r\n    * @memberof MJCanvas\r\n    */\r\n    quitGame() {\r\n        if (dd.ui_manager.showLoading()) {\r\n            let canvasTarget = dd.ui_manager.getCanvasNode().getComponent('MJCanvas');\r\n            if (canvasTarget) {\r\n                canvasTarget._isLoad = true;\r\n            }\r\n            dd.ud_manager.mineData.tableId = 0;\r\n\r\n            //如果是语音房间，退出的时候，要退出语音\r\n            if (dd.gm_manager && dd.gm_manager.mjGameData && dd.gm_manager.mjGameData.tableBaseVo\r\n                && dd.gm_manager.mjGameData.tableBaseVo.tableChatType === 1) {\r\n                let b = dd.js_call_native.quitRoom();\r\n                if (b === 0) {\r\n                    // '离开房间成功';\r\n                } else {\r\n                    // '离开房间失败';\r\n                }\r\n            }\r\n            if (dd.gm_manager.mjGameData.tableBaseVo.corpsId !== '0') {\r\n                cc.director.loadScene('ClubScene', () => {\r\n                    dd.gm_manager.destroySelf();\r\n                    cc.sys.garbageCollect();\r\n                });\r\n            } else {\r\n                cc.director.loadScene('HomeScene', () => {\r\n                    dd.gm_manager.destroySelf();\r\n                    cc.sys.garbageCollect();\r\n                });\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * 退出游戏\r\n     * @memberof Game_Setting\r\n     */\r\n    click_btn_outGame() {\r\n        let canvasTarget = dd.ui_manager.getCanvasNode().getComponent('MJCanvas');\r\n        if (canvasTarget) {\r\n            dd.mp_manager.playButton();\r\n            canvasTarget.sendOutGame();\r\n        }\r\n    }\r\n    /**点击退出按钮\r\n     * \r\n     * \r\n     * @memberof Game_Setting\r\n     */\r\n    click_btn_out() {\r\n        dd.mp_manager.playButton();\r\n        dd.ui_manager.isShowPopup = true;\r\n        if (this._showType === -1) {\r\n            this.node.removeFromParent(true);\r\n            this.node.destroy();\r\n        } else {\r\n            this.node.active = false;\r\n        }\r\n    }\r\n}\r\n"]}