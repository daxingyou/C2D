{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\SceneScript\\Club/assets\\Script\\SceneScript\\Club\\Club_Member_Item.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\SceneScript\\Club","sourcesContent":["import * as dd from './../../Modules/ModuleManager';\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Club_Member_Item extends cc.Component {\r\n\r\n    /**\r\n     * 名称\r\n     * \r\n     * @type {cc.Label}\r\n     * @memberof Club_Member_Item\r\n     */\r\n    @property(cc.Label)\r\n    lblName: cc.Label = null;\r\n\r\n    /**\r\n     * 游戏状态\r\n     * \r\n     * @type {cc.Label}\r\n     * @memberof Club_Member_Item\r\n     */\r\n    @property(cc.Label)\r\n    lblState: cc.Label = null;\r\n    /**\r\n     * 头像\r\n     * @type {cc.Sprite}\r\n     * @memberof Club_Member_Item\r\n     */\r\n    @property(cc.Sprite)\r\n    headImg: cc.Sprite = null;\r\n    /**\r\n     * 在线状态\r\n     * @type {cc.Toggle}\r\n     * @memberof Club_Member_Item\r\n     */\r\n    @property(cc.Toggle)\r\n    toggle_online: cc.Toggle = null;\r\n\r\n    _itemData: CorpsMemberVoInner = null;                            //俱乐部信息数据\r\n    _cb = null;                             //item点击回调\r\n    _target = null;\r\n\r\n    onLoad() {\r\n        this.node.on(\"touchend\", (event: cc.Event.EventTouch) => {\r\n            if (this._cb) {\r\n                this._cb(this._itemData);\r\n            }\r\n            event.stopPropagation();\r\n        }, this);\r\n    }\r\n\r\n    updateItem(data: CorpsMemberVoInner, clubInfo: CorpsVoInner, cb, target) {\r\n        this._itemData = data;\r\n        this._cb = cb;\r\n        this._target = target;\r\n\r\n        this.lblName.string = data.nick;\r\n        this.showHead();\r\n        switch (data.state) {\r\n            case 0:\r\n                this.lblState.string = '';\r\n                this.lblState.node.color = cc.Color.WHITE;\r\n                this.toggle_online.isChecked = false;\r\n                break;\r\n            case 1:\r\n                this.lblState.string = '[空闲]';\r\n                this.lblState.node.color = cc.Color.GRAY;\r\n                this.toggle_online.isChecked = true;\r\n                break;\r\n            case 2:\r\n                this.lblState.string = '[落座中]';\r\n                this.lblState.node.color = cc.Color.RED;\r\n                this.toggle_online.isChecked = true;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    async showHead() {\r\n        let headSF = null;\r\n        try {\r\n            headSF = await dd.img_manager.loadURLImage(this._itemData.headImg);\r\n        } catch (error) {\r\n            cc.log('获取头像错误');\r\n        }\r\n        this.headImg.spriteFrame = headSF;\r\n    }\r\n\r\n    /**\r\n     * 删除按钮\r\n     * \r\n     * @memberof Club_Member_Item\r\n     */\r\n    click_btn_delete() {\r\n        dd.mp_manager.playButton();\r\n        dd.ui_manager.showAlert('确定移除成员 <color=#FFFF00>' + this._itemData.starNO + '</c>？'\r\n            , '移除成员',\r\n            {\r\n                lbl_name: '确定',\r\n                callback: () => {\r\n                    this._target.sendKikMember(this._itemData.starNO);\r\n                }\r\n            },\r\n            {\r\n                lbl_name: '再想想',\r\n                callback: () => {\r\n                }\r\n            }\r\n            , 1);\r\n    }\r\n\r\n}\r\n"]}