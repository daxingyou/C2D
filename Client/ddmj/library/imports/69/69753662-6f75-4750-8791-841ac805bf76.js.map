{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\SceneScript\\Game/assets\\Script\\SceneScript\\Game\\MJ_Table.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\SceneScript\\Game","sourcesContent":["const { ccclass, property } = cc._decorator;\r\n\r\nimport MJCanvas from './MJCanvas';\r\nimport MJ_PlayerUI from './MJ_PlayerUI';\r\nimport * as MJ_Help from './MJ_Help';\r\nimport * as dd from './../../Modules/ModuleManager';\r\n@ccclass\r\nexport default class MJ_Table extends cc.Component {\r\n\r\n    /**\r\n     * 游戏配置描述\r\n     * \r\n     * @type {cc.Label}\r\n     * @memberof MJ_Table\r\n     */\r\n    @property(cc.Label)\r\n    lblTitle: cc.Label = null;\r\n\r\n    /**\r\n     * 游戏房间id\r\n     * \r\n     * @type {cc.Label}\r\n     * @memberof MJ_Table\r\n     */\r\n    @property(cc.Label)\r\n    lblRoomId: cc.Label = null;\r\n\r\n    /**\r\n     * 系统时间\r\n     * \r\n     * @type {cc.Label}\r\n     * @memberof MJ_Table\r\n     */\r\n    @property(cc.Label)\r\n    lblSysTime: cc.Label = null;\r\n\r\n    /**\r\n     * 游戏延时\r\n     * \r\n     * @type {cc.Label}\r\n     * @memberof MJ_Table\r\n     */\r\n    @property(cc.Label)\r\n    lblDelay: cc.Label = null;\r\n\r\n    /**\r\n     * 信号图片\r\n     * \r\n     * @type {cc.Sprite}\r\n     * @memberof MJ_Table\r\n     */\r\n    @property(cc.Sprite)\r\n    imgWifi: cc.Sprite = null;\r\n\r\n    /**\r\n     * 电池电量\r\n     * \r\n     * @type {cc.ProgressBar}\r\n     * @memberof MJ_Table\r\n     */\r\n    @property(cc.ProgressBar)\r\n    pro_Power: cc.ProgressBar = null;\r\n\r\n    /**\r\n     * 游戏等待界面\r\n     * \r\n     * @type {cc.Node}\r\n     * @memberof MJ_Table\r\n     */\r\n    @property(cc.Node)\r\n    table_wait: cc.Node = null;\r\n\r\n    /**\r\n     * 退出按钮的节点\r\n     * \r\n     * @type {cc.Node}\r\n     * @memberof MJ_Table\r\n     */\r\n    @property(cc.Node)\r\n    node_out: cc.Node = null;\r\n    /**\r\n     * 微信邀请按钮\r\n     * @type {cc.Node}\r\n     * @memberof MJ_Table\r\n     */\r\n    @property(cc.Node)\r\n    node_wx_invit: cc.Node = null;\r\n    /**\r\n     * 解散房间按钮的节点\r\n     * \r\n     * @type {cc.Node}\r\n     * @memberof MJ_Table\r\n     */\r\n    @property(cc.Node)\r\n    node_disband: cc.Node = null;\r\n\r\n    /**\r\n     * 玩家节点列表\r\n     * \r\n     * @type {cc.Node[]}\r\n     * @memberof MJ_Player\r\n     */\r\n    @property([cc.Node])\r\n    playerList: cc.Node[] = [];\r\n\r\n    /**\r\n     * canvas脚本\r\n     * \r\n     * @memberof MJ_Table\r\n     */\r\n    _canvasTarget: MJCanvas = null;\r\n\r\n    /**\r\n     * \r\n     * 当前时间\r\n     * @type {string}\r\n     * @memberof MJ_Table\r\n     */\r\n    _nowTime: number = 0;\r\n\r\n    /**\r\n     * 刷新时间\r\n     * \r\n     * @type {number}\r\n     * @memberof MJ_Table\r\n     */\r\n    _cdTime: number = 0;\r\n\r\n    /**\r\n     * 电量获取的刷新时间\r\n     * \r\n     * @type {number}\r\n     * @memberof MJ_Table\r\n     */\r\n    _powerTime: number = 30;\r\n\r\n    _msTime: number = 1;\r\n\r\n    onLoad() {\r\n        this._canvasTarget = dd.ui_manager.getCanvasNode().getComponent('MJCanvas');\r\n        if (dd.config.wxState === 0) {\r\n            this.node_wx_invit.active = true;\r\n        } else {\r\n            this.node_wx_invit.active = false;\r\n        }\r\n    }\r\n\r\n    update(dt) {\r\n        if (dd.gm_manager && dd.gm_manager.mjGameData && !dd.gm_manager.isReplayPause) {\r\n            this._cdTime -= dt;\r\n            if (this._cdTime < 0) {\r\n                this._cdTime = 1;\r\n                dd.gm_manager.mjGameData.tableBaseVo.svrTime = Number(dd.gm_manager.mjGameData.tableBaseVo.svrTime) + 1000 + '';\r\n                this.lblSysTime.string = dd.utils.getDateStringByTimestamp(dd.gm_manager.mjGameData.tableBaseVo.svrTime, 2);\r\n            }\r\n        }\r\n        //电量获取刷新\r\n        this._powerTime -= dt;\r\n        if (this._powerTime < 0) {\r\n            this._powerTime = 30;\r\n            this.pro_Power.progress = dd.js_call_native.getBatteryLevel() / 100;\r\n        }\r\n\r\n        this._msTime -= dt;\r\n        if (this._msTime <= 0) {\r\n            this._msTime = 1;\r\n            // this.showWifiMS();\r\n            this.lblDelay.string = dd.ws_manager.getDelayTime() + 'ms';\r\n        }\r\n    }\r\n    /**\r\n     * 显示桌子信息和界面\r\n     * \r\n     * @memberof MJ_Table\r\n     */\r\n    showTableInfo() {\r\n        if (!this._canvasTarget) {\r\n            this._canvasTarget = dd.ui_manager.getCanvasNode().getComponent('MJCanvas');\r\n        }\r\n        this._cdTime = 1;\r\n        this.lblTitle.string = dd.gm_manager.mjGameData.tableBaseVo.ruleShowDesc;\r\n        this.lblRoomId.string = '房间号:' + dd.gm_manager.mjGameData.tableBaseVo.tableId;\r\n        this.lblSysTime.string = dd.utils.getDateStringByTimestamp(dd.gm_manager.mjGameData.tableBaseVo.svrTime, 2);\r\n        this.pro_Power.progress = dd.js_call_native.getBatteryLevel() / 100;\r\n        this.lblDelay.string = dd.ws_manager.getDelayTime() + 'ms';\r\n        //如果在空闲状态\r\n        if (dd.gm_manager.mjGameData.tableBaseVo.gameState === MJ_Help.MJ_GameState.STATE_TABLE_IDLE) {\r\n            this.table_wait.active = true;\r\n            if (dd.ud_manager.mineData.accountId === dd.gm_manager.mjGameData.tableBaseVo.createPlayer) {\r\n                this.node_disband.active = true;\r\n                this.node_out.active = false;\r\n            } else {\r\n                this.node_disband.active = false;\r\n                this.node_out.active = true;\r\n            }\r\n        } else {\r\n            this.table_wait.active = false;\r\n            this.node_disband.active = false;\r\n            this.node_out.active = false;\r\n        }\r\n        this.showPlayerInfo();\r\n    }\r\n\r\n\r\n    /**\r\n     * 显示玩家信息\r\n     * \r\n     * @memberof MJ_Player\r\n     */\r\n    showPlayerInfo() {\r\n        for (var i = 0; i < dd.gm_manager.mjGameData.seats.length; i++) {\r\n            let seat: SeatVo = dd.gm_manager.mjGameData.seats[i];\r\n            let player: cc.Node = this.playerList[i];\r\n            if (seat && seat.accountId !== null && seat.accountId !== '0') {\r\n                player.active = true;\r\n                let playerScript: MJ_PlayerUI = player.getComponent('MJ_PlayerUI');\r\n                playerScript.showInfo(seat);\r\n            } else {\r\n                player.active = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 根据玩家id返回玩家的座位坐标\r\n     * \r\n     * @param {string} accountId \r\n     * @returns \r\n     * @memberof MJ_Player\r\n     */\r\n    getPlayPosById(accountId: string) {\r\n        let index = MJ_Help.getIndexBySeatId(-1, accountId);\r\n        let player = this.playerList[index];\r\n        let pos = player.getPosition();\r\n        return pos;\r\n    }\r\n\r\n    /**\r\n     * 显示信号延时\r\n     * \r\n     * @memberof MJ_Table\r\n     */\r\n    showWifiMS() {\r\n        let ms = dd.ws_manager.getDelayTime();\r\n        let type = 0;\r\n        if (ms < 60) {\r\n            type = 0;\r\n            this.lblDelay.node.color = cc.Color.GREEN;\r\n            this.imgWifi.node.color = cc.Color.GREEN;\r\n        } else if (ms >= 60 && ms < 90) {\r\n            type = 1;\r\n            this.lblDelay.node.color = cc.Color.YELLOW;\r\n            this.imgWifi.node.color = cc.Color.YELLOW;\r\n        } else {\r\n            type = 2;\r\n            this.lblDelay.node.color = cc.Color.RED;\r\n            this.imgWifi.node.color = cc.Color.RED;\r\n        }\r\n        this.lblDelay.string = ms + 'ms';\r\n    }\r\n    /**\r\n     * 返回大厅\r\n     * \r\n     * @memberof MJ_Table\r\n     */\r\n    click_btn_return() {\r\n        dd.mp_manager.playButton();\r\n        this._canvasTarget.sendOutGame();\r\n    }\r\n    /**\r\n     * 解散\r\n     * \r\n     * @memberof MJ_Table\r\n     */\r\n    click_btn_disband() {\r\n        dd.mp_manager.playButton();\r\n        dd.ui_manager.showAlert('您确定解散房间吗？'\r\n            , '温馨提示',\r\n            {\r\n                lbl_name: '确定',\r\n                callback: () => {\r\n                    this._canvasTarget.sendOutGame();\r\n                }\r\n            }, {\r\n                lbl_name: '取消',\r\n                callback: () => {\r\n                }\r\n            }, 1);\r\n    }\r\n\r\n    /**\r\n     * 邀请\r\n     * \r\n     * @memberof MJ_Table\r\n     */\r\n    click_btn_invite() {\r\n        dd.mp_manager.playButton();\r\n        dd.js_call_native.wxShare(dd.config.cd.ddUrl, '豆豆麻将', '我在豆豆麻将' + dd.gm_manager.mjGameData.tableBaseVo.tableId + '号桌子，快来一起游戏吧！');\r\n    }\r\n    /**\r\n     * 复制\r\n     * \r\n     * @memberof MJ_Table\r\n     */\r\n    click_btn_copy() {\r\n        dd.mp_manager.playButton();\r\n        dd.js_call_native.copyToClipboard(dd.gm_manager.mjGameData.tableBaseVo.tableId.toString());\r\n        dd.ui_manager.showTip('复制成功！');\r\n    }\r\n    /**\r\n     * 准备\r\n     * \r\n     * @memberof MJ_Table\r\n     */\r\n    click_btn_ready() {\r\n        dd.mp_manager.playButton();\r\n    }\r\n\r\n    /**\r\n     * 聊天\r\n     * \r\n     * @memberof MJ_Table\r\n     */\r\n    click_btn_chat() {\r\n        if (dd.gm_manager.touchTarget) return;\r\n        dd.mp_manager.playButton();\r\n        this._canvasTarget.showChat();\r\n    }\r\n    /**\r\n     * 设置\r\n     * \r\n     * @memberof MJ_Table\r\n     */\r\n    click_btn_setting() {\r\n        if (dd.gm_manager.touchTarget) return;\r\n        dd.mp_manager.playButton();\r\n        this._canvasTarget.showSetting();\r\n    }\r\n    /**\r\n     * 语音\r\n     * \r\n     * @memberof MJ_Table\r\n     */\r\n    click_btn_voice() {\r\n        dd.mp_manager.playButton();\r\n    }\r\n\r\n}\r\n"]}