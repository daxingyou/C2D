{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\SceneScript\\Club/assets\\Script\\SceneScript\\Club\\Club_Item.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\SceneScript\\Club","sourcesContent":["import { ud_manager, ui_manager, mp_manager } from './../../Modules/ModuleManager';\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Club_Item extends cc.Component {\r\n\r\n    @property(cc.Node)\r\n    node_odd: cc.Node = null;           //特殊背景\r\n\r\n    @property(cc.Label)\r\n    lblClubName: cc.Label = null;      //俱乐部名称\r\n\r\n    @property(cc.Label)\r\n    lblClubId: cc.Label = null;        //俱乐部Id\r\n\r\n    @property(cc.Label)\r\n    lblClubNum: cc.Label = null;       //俱乐部人数\r\n\r\n    @property(cc.Label)\r\n    lblClubMoney: cc.Label = null;     //俱乐部房卡数量\r\n\r\n    @property(cc.Sprite)\r\n    img_use: cc.Sprite = null;        //房卡使用开关\r\n\r\n    @property(cc.Button)\r\n    btn_use: cc.Button = null;\r\n\r\n    _itemData: CorpsVoInner = null;                            //俱乐部信息数据\r\n    _cb = null;                             //item点击回调\r\n    _target = null;\r\n    onLoad() {\r\n        this.node.on(\"touchend\", (event: cc.Event.EventTouch) => {\r\n            mp_manager.playButton();\r\n            if (this._cb) {\r\n                this._cb(this._itemData);\r\n            }\r\n            event.stopPropagation();\r\n        }, this);\r\n    }\r\n\r\n    updateItem(index: number, data: CorpsVoInner, cb, target) {\r\n        this._itemData = data;\r\n        this._cb = cb;\r\n        this._target = target;\r\n\r\n        this.lblClubName.string = data.corpsName;\r\n        this.lblClubId.string = 'ID:' + data.corpsId;\r\n        this.lblClubNum.string = data.memberNum + '';\r\n        this.lblClubMoney.string = data.roomCard + '';\r\n        this.node_odd.active = index % 2 === 0 ? true : false;\r\n        //如果群主是自己\r\n        if (data.createPlayer === ud_manager.mineData.accountId) {\r\n            this.btn_use.node.active = true;\r\n            this.img_use.spriteFrame = data.state === 0 ? this._target.club_use_on_off_list[1] : this._target.club_use_on_off_list[0];\r\n        } else {\r\n            this.btn_use.node.active = false;\r\n            this.img_use.spriteFrame = data.state === 0 ? this._target.club_use_on_off_list[3] : this._target.club_use_on_off_list[2];\r\n        }\r\n    }\r\n\r\n    click_check_use() {\r\n        mp_manager.playButton();\r\n        if (this._itemData.state === 1) {\r\n            ui_manager.showAlert('关闭后此群不在消耗房卡，<br/>群成员将不能再创建房间，<br/>是否关闭？', '解散俱乐部', {\r\n                lbl_name: '是',\r\n                callback: () => {\r\n                    this._target.sendUseRoomCard(this._itemData.corpsId, 0);\r\n                    this.img_use.spriteFrame = this._target.club_use_on_off_list[1];\r\n                }\r\n            }, {\r\n                    lbl_name: '否',\r\n                    callback: () => {\r\n                        this.img_use.spriteFrame = this._target.club_use_on_off_list[0];\r\n                    }\r\n                }, 1);\r\n        } else {\r\n            this._target.sendUseRoomCard(this._itemData.corpsId, 1);\r\n            this.img_use.spriteFrame = this._target.club_use_on_off_list[0];\r\n        }\r\n    }\r\n}\r\n"]}