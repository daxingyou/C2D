{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\SceneScript\\Home/assets\\Script\\SceneScript\\Home\\Role.ts"],"names":[],"mappings":";;;;;AAAM,IAAA,kBAAqC,EAAnC,oBAAO,EAAE,sBAAQ,CAAmB;AAC5C,kDAAqD;AAErD;IAAkC,wBAAY;IAD9C;QAAA,qEAoDC;QAhDG,aAAO,GAAa,IAAI,CAAC;QAGzB,WAAK,GAAa,IAAI,CAAC;QAGvB,WAAK,GAAa,IAAI,CAAC;QAGvB,aAAO,GAAc,IAAI,CAAC;QAG1B,YAAM,GAAc,IAAI,CAAC;QAGzB,aAAO,GAAqB,EAAE,CAAC;;IAiCnC,CAAC;IAhCG,qBAAM,GAAN;QAAA,iBAOC;QANG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,UAAU,EAAE,UAAC,KAA0B;YAChD,EAAE,CAAC,UAAU,CAAC,WAAW,GAAG,IAAI,CAAC;YACjC,KAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;YACjC,KAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;YACpB,KAAK,CAAC,eAAe,EAAE,CAAC;QAC5B,CAAC,EAAE,IAAI,CAAC,CAAC;IACb,CAAC;IAED;;;;OAIG;IACG,uBAAQ,GAAd,UAAe,QAAkB;;;;;;wBAC7B,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,QAAQ,CAAC,IAAI,CAAC;wBACpC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,GAAG,QAAQ,CAAC,QAAQ,CAAC;wBAC/C,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC;wBAC7C,EAAE,CAAC,CAAC,QAAQ,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;4BACnB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;4BAC/B,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;wBAC7D,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACJ,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;wBACpC,CAAC;wBACG,MAAM,GAAG,IAAI,CAAC;;;;wBAEL,qBAAM,EAAE,CAAC,WAAW,CAAC,YAAY,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAA;;wBAA5D,MAAM,GAAG,SAAmD,CAAC;;;;wBAE7D,EAAE,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;;;wBAErB,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,MAAM,CAAC;;;;;KACrC;IA/CD;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;yCACM;IAGzB;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;uCACI;IAGvB;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;uCACI;IAGvB;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;yCACM;IAG1B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;wCACK;IAGzB;QADC,QAAQ,CAAC,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC;yCACI;IAlBd,IAAI;QADxB,OAAO;OACa,IAAI,CAmDxB;IAAD,WAAC;CAnDD,AAmDC,CAnDiC,EAAE,CAAC,SAAS,GAmD7C;kBAnDoB,IAAI","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\SceneScript\\Home","sourcesContent":["const { ccclass, property } = cc._decorator;\r\nimport *  as dd from './../../Modules/ModuleManager';\r\n@ccclass\r\nexport default class Role extends cc.Component {\r\n\r\n    @property(cc.Label)\r\n    lblName: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    lblIP: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    lblID: cc.Label = null;\r\n\r\n    @property(cc.Sprite)\r\n    headImg: cc.Sprite = null;\r\n\r\n    @property(cc.Sprite)\r\n    sexImg: cc.Sprite = null;\r\n\r\n    @property([cc.SpriteFrame])\r\n    sex_img: cc.SpriteFrame[] = [];\r\n    onLoad() {\r\n        this.node.on(\"touchend\", (event: cc.Event.EventTouch) => {\r\n            dd.ui_manager.isShowPopup = true;\r\n            this.node.removeFromParent(true);\r\n            this.node.destroy();\r\n            event.stopPropagation();\r\n        }, this);\r\n    }\r\n\r\n    /**\r\n     * 显示信息\r\n     * \r\n     * @memberof Role\r\n     */\r\n    async showInfo(roleInfo: UserData) {\r\n        this.lblName.string = roleInfo.nick;\r\n        this.lblIP.string = 'IP: ' + roleInfo.clientIP;\r\n        this.lblID.string = 'ID: ' + roleInfo.starNO;\r\n        if (roleInfo.sex > 0) {\r\n            this.sexImg.node.active = true;\r\n            this.sexImg.spriteFrame = this.sex_img[roleInfo.sex - 1];\r\n        } else {\r\n            this.sexImg.node.active = false;\r\n        }\r\n        let headSF = null;\r\n        try {\r\n            headSF = await dd.img_manager.loadURLImage(roleInfo.headImg);\r\n        } catch (error) {\r\n            cc.log('获取头像错误');\r\n        }\r\n        this.headImg.spriteFrame = headSF;\r\n    }\r\n}\r\n"]}