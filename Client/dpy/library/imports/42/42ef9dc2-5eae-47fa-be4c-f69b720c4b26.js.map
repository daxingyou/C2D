{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\SceneScript\\Home/assets\\Script\\SceneScript\\Home\\Mine.ts"],"names":[],"mappings":";;;;;AAAM,IAAA,kBAAqC,EAAnC,oBAAO,EAAE,sBAAQ,CAAmB;AAC5C,kDAAoD;AAGpD;IAAkC,wBAAY;IAD9C;QAAA,qEAwDC;QAtDG;;;;;WAKG;QAEH,YAAM,GAAY,IAAI,CAAC;QACvB;;;;;WAKG;QACH,cAAQ,GAAsB,EAAE,CAAC;;IAwCrC,CAAC;IAtCG,mBAAI,GAAJ,UAAK,KAAwB;QACzB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;IAC1B,CAAC;IAED,qBAAM,GAAN;QACI,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;YAC5C,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,UAAC,IAAqB;gBAC3E,EAAE,CAAC,UAAU,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;gBACpC,EAAE,CAAC,UAAU,CAAC,UAAU,EAAE,CAAC;gBAC3B,IAAI,GAAG,GAAG,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,CAAC;gBACpC,IAAI,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;gBAC9B,EAAE,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,CAAC,QAAQ,CAAC,iBAAiB,EAAE,GAAG,EAAE,UAAC,IAAY,EAAE,OAAa;oBAClF,EAAE,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC;wBACb,EAAE,CAAC,UAAU,CAAC,YAAY,CAAC,OAAoB,EAAE,CAAC,CAAC,CAAC;wBACpD,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,WAAW,EAAE;4BAC/B,EAAE,CAAC,UAAU,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;wBACpC,CAAC,CAAC,CAAC;oBACP,CAAC;oBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;wBACrB,EAAE,CAAC,UAAU,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;oBACxC,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,EAAE,CAAC,UAAU,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;oBACnC,CAAC;gBACL,CAAC,CAAC,CAAC;YACP,CAAC,CAAC,CAAC;YACH,EAAE,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC;QAChC,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,EAAE,CAAC,UAAU,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;QAC3C,CAAC;IACL,CAAC;IACD;;;;OAIG;IACH,wBAAS,GAAT;QACI,EAAE,CAAC,UAAU,CAAC,UAAU,EAAE,CAAC;QAC3B,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;IACxB,CAAC;IA9CD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;wCACK;IARN,IAAI;QADxB,OAAO;OACa,IAAI,CAuDxB;IAAD,WAAC;CAvDD,AAuDC,CAvDiC,EAAE,CAAC,SAAS,GAuD7C;kBAvDoB,IAAI","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\SceneScript\\Home","sourcesContent":["const { ccclass, property } = cc._decorator;\r\nimport * as dd from './../../Modules/ModuleManager';\r\n\r\n@ccclass\r\nexport default class Mine extends cc.Component {\r\n    /**\r\n     * 滚动节点\r\n     * \r\n     * @type {cc.Node}\r\n     * @memberof Mine\r\n     */\r\n    @property(cc.Node)\r\n    svNode: cc.Node = null;\r\n    /**\r\n     * 我的牌局对象数据集\r\n     * \r\n     * @type {JoinedTableItem[]}\r\n     * @memberof Mine\r\n     */\r\n    dataList: JoinedTableItem[] = [];\r\n\r\n    init(datas: JoinedTableItem[]) {\r\n        this.dataList = datas;\r\n    }\r\n\r\n    onLoad() {\r\n        if (this.dataList && this.dataList.length > 0) {\r\n            this.svNode.getComponent('SVScript').init(this.dataList, (data: JoinedTableItem) => {\r\n                dd.ui_manager.showLoading('正在进入房间');\r\n                dd.mp_manager.playButton();\r\n                let obj = { tableId: data.tableId };\r\n                let msg = JSON.stringify(obj);\r\n                dd.ws_manager.sendMsg(dd.protocol.DZPKER_TABLE_JOIN, msg, (flag: number, content?: any) => {\r\n                    if (flag === 0) {\r\n                        dd.gm_manager.setTableData(content as TableData, 1);\r\n                        cc.director.loadScene('GameScene', () => {\r\n                            dd.ui_manager.showTip('加入房间成功');\r\n                        });\r\n                    } else if (flag === -1) {\r\n                        dd.ui_manager.showTip('加入房间消息发送超时');\r\n                    } else {\r\n                        dd.ui_manager.showTip(content);\r\n                    }\r\n                });\r\n            });\r\n            dd.ui_manager.hideLoading();\r\n        } else {\r\n            dd.ui_manager.showTip('当前没有您可以继续的牌局!');\r\n        }\r\n    }\r\n    /**\r\n     * 点击关闭按钮\r\n     * \r\n     * @memberof Mine\r\n     */\r\n    click_out() {\r\n        dd.mp_manager.playButton();\r\n        this.node.destroy();\r\n    }\r\n}\r\n"]}